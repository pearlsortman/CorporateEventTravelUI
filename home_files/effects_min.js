//Createdby: Minifier404
//Compiler: MSFT AjaxMin
//Generated: 2015-10-01 13:07:12

//FileName: /javascript/prototype1_6/effects.js
String.prototype.parseColor=function(){var a=this,c="#";if(a.slice(0,4)=="rgb("){var d=a.slice(4,a.length-1).split(","),b=0;do c+=parseInt(d[b]).toColorPart();while(++b<3)}else if(a.slice(0,1)=="#"){if(a.length==4)for(var b=1;b<4;b++)c+=(a.charAt(b)+a.charAt(b)).toLowerCase();if(a.length==7)c=a.toLowerCase()}return c.length==7?c:arguments[0]||a};Element.collectTextNodes=function(a){return $A($(a).childNodes).collect(function(a){return a.nodeType==3?a.nodeValue:a.hasChildNodes()?Element.collectTextNodes(a):""}).flatten().join("")};Element.collectTextNodesIgnoreClass=function(b,a){return $A($(b).childNodes).collect(function(b){return b.nodeType==3?b.nodeValue:b.hasChildNodes()&&!Element.hasClassName(b,a)?Element.collectTextNodesIgnoreClass(b,a):""}).flatten().join("")};Element.setContentZoom=function(a,b){a=$(a);a.setStyle({fontSize:b/100+"em"});Prototype.Browser.WebKit&&window.scrollBy(0,0);return a};Element.getInlineOpacity=function(a){return $(a).style.opacity||""};Element.forceRerendering=function(a){try{a=$(a);var b=document.createTextNode(" ");a.appendChild(b);a.removeChild(b)}catch(c){}};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},Transitions:{linear:Prototype.K,sinoidal:function(a){return-Math.cos(a*Math.PI)/2+.5},reverse:function(a){return 1-a},flicker:function(a){var a=-Math.cos(a*Math.PI)/4+.75+Math.random()/4;return a>1?1:a},wobble:function(a){return-Math.cos(a*Math.PI*(9*a))/2+.5},pulse:function(b,a){return-Math.cos(b*((a||5)-.5)*2*Math.PI)/2+.5},spring:function(a){return 1-Math.cos(a*4.5*Math.PI)*Math.exp(-a*6)},none:function(){return 0},full:function(){return 1}},DefaultOptions:{duration:1,fps:100,sync:false,from:0,to:1,delay:0,queue:"parallel"},tagifyText:function(a){var b="position:relative";if(Prototype.Browser.IE)b+=";zoom:1";a=$(a);$A(a.childNodes).each(function(c){if(c.nodeType==3){c.nodeValue.toArray().each(function(d){a.insertBefore((new Element("span",{style:b})).update(d==" "?String.fromCharCode(160):d),c)});Element.remove(c)}})},multiple:function(a,e){var b;if((typeof a=="object"||Object.isFunction(a))&&a.length)b=a;else b=$(a).childNodes;var c=Object.extend({speed:.1,delay:0},arguments[2]||{}),d=c.delay;$A(b).each(function(a,b){new e(a,Object.extend(c,{delay:b*c.speed+d}))})},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(a,b,c){a=$(a);b=(b||"appear").toLowerCase();return Effect[Effect.PAIRS[b][a.visible()?1:0]](a,Object.extend({queue:{position:"end",scope:a.id||"global",limit:1}},c||{}))}};Effect.DefaultOptions.transition=Effect.Transitions.sinoidal;Effect.ScopedQueue=Class.create(Enumerable,{initialize:function(){this.effects=[];this.interval=null},_each:function(a){this.effects._each(a)},add:function(a){var b=this,c=(new Date).getTime(),d=Object.isString(a.options.queue)?a.options.queue:a.options.queue.position;switch(d){case"front":b.effects.findAll(function(a){return a.state=="idle"}).each(function(b){b.startOn+=a.finishOn;b.finishOn+=a.finishOn});break;case"with-last":c=b.effects.pluck("startOn").max()||c;break;case"end":c=b.effects.pluck("finishOn").max()||c}a.startOn+=c;a.finishOn+=c;(!a.options.queue.limit||b.effects.length<a.options.queue.limit)&&b.effects.push(a);if(!b.interval)b.interval=setInterval(b.loop.bind(b),15)},remove:function(b){var a=this;a.effects=a.effects.reject(function(a){return a==b});if(a.effects.length==0){clearInterval(a.interval);a.interval=null}},loop:function(){for(var b=(new Date).getTime(),a=0,c=this.effects.length;a<c;a++)this.effects[a]&&this.effects[a].loop(b)}});Effect.Queues={instances:$H(),"get":function(a){return!Object.isString(a)?a:this.instances.get(a)||this.instances.set(a,new Effect.ScopedQueue)}};Effect.Queue=Effect.Queues.get("global");Effect.Base=Class.create({position:null,start:function(b){var a=this;if(b&&b.transition===false)b.transition=Effect.Transitions.linear;a.options=Object.extend(Object.extend({},Effect.DefaultOptions),b||{});a.currentFrame=0;a.state="idle";a.startOn=a.options.delay*1e3;a.finishOn=a.startOn+a.options.duration*1e3;a.fromToDelta=a.options.to-a.options.from;a.totalTime=a.finishOn-a.startOn;a.totalFrames=a.options.fps*a.options.duration;a.render=function(){function a(b,c){var a="Internal";b.options[c+a]&&b.options[c+a](b);b.options[c]&&b.options[c](b)}return function(c){var b=this;if(b.state==="idle"){b.state="running";a(b,"beforeSetup");b.setup&&b.setup();a(b,"afterSetup")}if(b.state==="running"){c=b.options.transition(c)*b.fromToDelta+b.options.from;b.position=c;a(b,"beforeUpdate");b.update&&b.update(c);a(b,"afterUpdate")}}}();a.event("beforeStart");!a.options.sync&&Effect.Queues.get(Object.isString(a.options.queue)?"global":a.options.queue.scope).add(a)},loop:function(b){var a=this;if(b>=a.startOn){if(b>=a.finishOn){a.render(1);a.cancel();a.event("beforeFinish");a.finish&&a.finish();a.event("afterFinish");return}var d=(b-a.startOn)/a.totalTime,c=(d*a.totalFrames).round();if(c>a.currentFrame){a.render(d);a.currentFrame=c}}},cancel:function(){var a=this;!a.options.sync&&Effect.Queues.get(Object.isString(a.options.queue)?"global":a.options.queue.scope).remove(a);a.state="finished"},event:function(b){var c="Internal",a=this;a.options[b+c]&&a.options[b+c](a);a.options[b]&&a.options[b](a)},inspect:function(){var a=this,b=$H();for(property in a)!Object.isFunction(a[property])&&b.set(property,a[property]);return"#<Effect:"+b.inspect()+",options:"+$H(a.options).inspect()+">"}});Effect.Parallel=Class.create(Effect.Base,{initialize:function(a){this.effects=a||[];this.start(arguments[1])},update:function(a){this.effects.invoke("render",a)},finish:function(a){this.effects.each(function(b){b.render(1);b.cancel();b.event("beforeFinish");b.finish&&b.finish(a);b.event("afterFinish")})}});Effect.Tween=Class.create(Effect.Base,{initialize:function(a,e,f){a=Object.isString(a)?$(a):a;var c=$A(arguments),b=c.last(),d=c.length==5?c[3]:null;this.method=Object.isFunction(b)?b.bind(a):Object.isFunction(a[b])?a[b].bind(a):function(c){a[b]=c};this.start(Object.extend({from:e,to:f},d||{}))},update:function(a){this.method(a)}});Effect.Event=Class.create(Effect.Base,{initialize:function(){this.start(Object.extend({duration:0},arguments[0]||{}))},update:Prototype.emptyFunction});Effect.Opacity=Class.create(Effect.Base,{initialize:function(b){var a=this;a.element=$(b);if(!a.element)throw Effect._elementDoesNotExistError;Prototype.Browser.IE&&!a.element.currentStyle.hasLayout&&a.element.setStyle({zoom:1});var c=Object.extend({from:a.element.getOpacity()||0,to:1},arguments[1]||{});a.start(c)},update:function(a){this.element.setOpacity(a)}});Effect.Move=Class.create(Effect.Base,{initialize:function(a){this.element=$(a);if(!this.element)throw Effect._elementDoesNotExistError;var b=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(b)},setup:function(){var a=this;a.element.makePositioned();a.originalLeft=parseFloat(a.element.getStyle("left")||"0");a.originalTop=parseFloat(a.element.getStyle("top")||"0");if(a.options.mode=="absolute"){a.options.x=a.options.x-a.originalLeft;a.options.y=a.options.y-a.originalTop}},update:function(b){var a=this;a.element.setStyle({left:(a.options.x*b+a.originalLeft).round()+"px",top:(a.options.y*b+a.originalTop).round()+"px"})}});Effect.MoveBy=function(a,c,b){return new Effect.Move(a,Object.extend({x:b,y:c},arguments[3]||{}))};Effect.Scale=Class.create(Effect.Base,{initialize:function(a,c){this.element=$(a);if(!this.element)throw Effect._elementDoesNotExistError;var b=Object.extend({scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:"box",scaleFrom:100,scaleTo:c},arguments[2]||{});this.start(b)},setup:function(){var a=this;a.restoreAfterFinish=a.options.restoreAfterFinish||false;a.elementPositioning=a.element.getStyle("position");a.originalStyle={};["top","left","width","height","fontSize"].each(function(a){this.originalStyle[a]=this.element.style[a]}.bind(a));a.originalTop=a.element.offsetTop;a.originalLeft=a.element.offsetLeft;var b=a.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(a){if(b.indexOf(a)>0){this.fontSize=parseFloat(b);this.fontSizeType=a}}.bind(a));a.factor=(a.options.scaleTo-a.options.scaleFrom)/100;a.dims=null;if(a.options.scaleMode=="box")a.dims=[a.element.offsetHeight,a.element.offsetWidth];if(/^content/.test(a.options.scaleMode))a.dims=[a.element.scrollHeight,a.element.scrollWidth];if(!a.dims)a.dims=[a.options.scaleMode.originalHeight,a.options.scaleMode.originalWidth]},update:function(c){var a=this,b=a.options.scaleFrom/100+a.factor*c;a.options.scaleContent&&a.fontSize&&a.element.setStyle({fontSize:a.fontSize*b+a.fontSizeType});a.setDimensions(a.dims[0]*b,a.dims[1]*b)},finish:function(){this.restoreAfterFinish&&this.element.setStyle(this.originalStyle)},setDimensions:function(d,f){var c="px",a=this,b={};if(a.options.scaleX)b.width=f.round()+c;if(a.options.scaleY)b.height=d.round()+c;if(a.options.scaleFromCenter){var g=(d-a.dims[0])/2,e=(f-a.dims[1])/2;if(a.elementPositioning=="absolute"){if(a.options.scaleY)b.top=a.originalTop-g+c;if(a.options.scaleX)b.left=a.originalLeft-e+c}else{if(a.options.scaleY)b.top=-g+c;if(a.options.scaleX)b.left=-e+c}}a.element.setStyle(b)}});Effect.Highlight=Class.create(Effect.Base,{initialize:function(a){this.element=$(a);if(!this.element)throw Effect._elementDoesNotExistError;var b=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(b)},setup:function(){var b="background-color",a=this;if(a.element.getStyle("display")=="none"){a.cancel();return}a.oldStyle={};if(!a.options.keepBackgroundImage){a.oldStyle.backgroundImage=a.element.getStyle("background-image");a.element.setStyle({backgroundImage:"none"})}if(!a.options.endcolor)a.options.endcolor=a.element.getStyle(b).parseColor("#ffffff");if(!a.options.restorecolor)a.options.restorecolor=a.element.getStyle(b);a._base=$R(0,2).map(function(a){return parseInt(this.options.startcolor.slice(a*2+1,a*2+3),16)}.bind(a));a._delta=$R(0,2).map(function(a){return parseInt(this.options.endcolor.slice(a*2+1,a*2+3),16)-this._base[a]}.bind(a))},update:function(a){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(c,d,b){return c+(this._base[b]+this._delta[b]*a).round().toColorPart()}.bind(this))})},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}))}});Effect.ScrollTo=function(d){var a=arguments[1]||{},c=document.viewport.getScrollOffsets(),b=$(d).cumulativeOffset();if(a.offset)b[1]+=a.offset;return new Effect.Tween(null,c.top,b[1],a,function(a){scrollTo(c.left,a.round())})};Effect.Fade=function(a){a=$(a);var b=a.getInlineOpacity(),c=Object.extend({from:a.getOpacity()||1,to:0,afterFinishInternal:function(a){if(a.options.to!=0)return;a.element.hide().setStyle({opacity:b})}},arguments[1]||{});return new Effect.Opacity(a,c)};Effect.Appear=function(a){a=$(a);var b=Object.extend({from:a.getStyle("display")=="none"?0:a.getOpacity()||0,to:1,afterFinishInternal:function(a){a.element.forceRerendering()},beforeSetup:function(a){a.element.setOpacity(a.options.from).show()}},arguments[1]||{});return new Effect.Opacity(a,b)};Effect.Puff=function(a){var b=true;a=$(a);var c={opacity:a.getInlineOpacity(),position:a.getStyle("position"),top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height};return new Effect.Parallel([new Effect.Scale(a,200,{sync:b,scaleFromCenter:b,scaleContent:b,restoreAfterFinish:b}),new Effect.Opacity(a,{sync:b,to:0})],Object.extend({duration:1,beforeSetupInternal:function(a){Position.absolutize(a.effects[0].element)},afterFinishInternal:function(a){a.effects[0].element.hide().setStyle(c)}},arguments[1]||{}))};Effect.BlindUp=function(a){a=$(a);a.makeClipping();return new Effect.Scale(a,0,Object.extend({scaleContent:false,scaleX:false,restoreAfterFinish:true,afterFinishInternal:function(a){a.element.hide().undoClipping()}},arguments[1]||{}))};Effect.BlindDown=function(a){a=$(a);var b=a.getDimensions();return new Effect.Scale(a,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:b.height,originalWidth:b.width},restoreAfterFinish:true,afterSetup:function(a){a.element.makeClipping().setStyle({height:"0px"}).show()},afterFinishInternal:function(a){a.element.undoClipping()}},arguments[1]||{}))};Effect.SwitchOff=function(a){a=$(a);var b=a.getInlineOpacity();return new Effect.Appear(a,Object.extend({duration:.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(a){new Effect.Scale(a.element,1,{duration:.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(a){a.element.makePositioned().makeClipping()},afterFinishInternal:function(a){a.element.hide().undoClipping().undoPositioned().setStyle({opacity:b})}})}},arguments[1]||{}))};Effect.DropOut=function(a){a=$(a);var b={top:a.getStyle("top"),left:a.getStyle("left"),opacity:a.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(a,{x:0,y:100,sync:true}),new Effect.Opacity(a,{sync:true,to:0})],Object.extend({duration:.5,beforeSetup:function(a){a.effects[0].element.makePositioned()},afterFinishInternal:function(a){a.effects[0].element.hide().undoPositioned().setStyle(b)}},arguments[1]||{}))};Effect.Shake=function(c){c=$(c);var d=Object.extend({distance:20,duration:.5},arguments[1]||{}),a=parseFloat(d.distance),b=parseFloat(d.duration)/10,e={top:c.getStyle("top"),left:c.getStyle("left")};return new Effect.Move(c,{x:a,y:0,duration:b,afterFinishInternal:function(c){new Effect.Move(c.element,{x:-a*2,y:0,duration:b*2,afterFinishInternal:function(c){new Effect.Move(c.element,{x:a*2,y:0,duration:b*2,afterFinishInternal:function(c){new Effect.Move(c.element,{x:-a*2,y:0,duration:b*2,afterFinishInternal:function(c){new Effect.Move(c.element,{x:a*2,y:0,duration:b*2,afterFinishInternal:function(c){new Effect.Move(c.element,{x:-a,y:0,duration:b,afterFinishInternal:function(a){a.element.undoPositioned().setStyle(e)}})}})}})}})}})}})};Effect.SlideDown=function(a){a=$(a).cleanWhitespace();var c=a.down().getStyle("bottom"),b=a.getDimensions();return new Effect.Scale(a,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:b.height,originalWidth:b.width},restoreAfterFinish:true,afterSetup:function(a){a.element.makePositioned();a.element.down().makePositioned();window.opera&&a.element.setStyle({top:""});a.element.makeClipping().setStyle({height:"0px"}).show()},afterUpdateInternal:function(a){a.element.down().setStyle({bottom:a.dims[0]-a.element.clientHeight+"px"})},afterFinishInternal:function(a){a.element.undoClipping().undoPositioned();a.element.down().undoPositioned().setStyle({bottom:c})}},arguments[1]||{}))};Effect.SlideUp=function(a){a=$(a).cleanWhitespace();var c=a.down().getStyle("bottom"),b=a.getDimensions();return new Effect.Scale(a,window.opera?0:1,Object.extend({scaleContent:false,scaleX:false,scaleMode:"box",scaleFrom:100,scaleMode:{originalHeight:b.height,originalWidth:b.width},restoreAfterFinish:true,afterSetup:function(a){a.element.makePositioned();a.element.down().makePositioned();window.opera&&a.element.setStyle({top:""});a.element.makeClipping().show()},afterUpdateInternal:function(a){a.element.down().setStyle({bottom:a.dims[0]-a.element.clientHeight+"px"})},afterFinishInternal:function(a){a.element.hide().undoClipping().undoPositioned();a.element.down().undoPositioned().setStyle({bottom:c})}},arguments[1]||{}))};Effect.Squish=function(a){return new Effect.Scale(a,window.opera?1:0,{restoreAfterFinish:true,beforeSetup:function(a){a.element.makeClipping()},afterFinishInternal:function(a){a.element.hide().undoClipping()}})};Effect.Grow=function(b){b=$(b);var g=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{}),h={top:b.style.top,left:b.style.left,height:b.style.height,width:b.style.width,opacity:b.getInlineOpacity()},a=b.getDimensions(),c,d,e,f;switch(g.direction){case"top-left":c=d=e=f=0;break;case"top-right":c=a.width;d=f=0;e=-a.width;break;case"bottom-left":c=e=0;d=a.height;f=-a.height;break;case"bottom-right":c=a.width;d=a.height;e=-a.width;f=-a.height;break;case"center":c=a.width/2;d=a.height/2;e=-a.width/2;f=-a.height/2}return new Effect.Move(b,{x:c,y:d,duration:.01,beforeSetup:function(a){a.element.hide().makeClipping().makePositioned()},afterFinishInternal:function(c){var b=true;new Effect.Parallel([new Effect.Opacity(c.element,{sync:b,to:1,from:0,transition:g.opacityTransition}),new Effect.Move(c.element,{x:e,y:f,sync:b,transition:g.moveTransition}),new Effect.Scale(c.element,100,{scaleMode:{originalHeight:a.height,originalWidth:a.width},sync:b,scaleFrom:window.opera?1:0,transition:g.scaleTransition,restoreAfterFinish:b})],Object.extend({beforeSetup:function(a){a.effects[0].element.setStyle({height:"0px"}).show()},afterFinishInternal:function(a){a.effects[0].element.undoClipping().undoPositioned().setStyle(h)}},g))}})};Effect.Shrink=function(a){var f=true;a=$(a);var e=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{}),g={top:a.style.top,left:a.style.left,height:a.style.height,width:a.style.width,opacity:a.getInlineOpacity()},d=a.getDimensions(),b,c;switch(e.direction){case"top-left":b=c=0;break;case"top-right":b=d.width;c=0;break;case"bottom-left":b=0;c=d.height;break;case"bottom-right":b=d.width;c=d.height;break;case"center":b=d.width/2;c=d.height/2}return new Effect.Parallel([new Effect.Opacity(a,{sync:f,to:0,from:1,transition:e.opacityTransition}),new Effect.Scale(a,window.opera?1:0,{sync:f,transition:e.scaleTransition,restoreAfterFinish:f}),new Effect.Move(a,{x:b,y:c,sync:f,transition:e.moveTransition})],Object.extend({beforeStartInternal:function(a){a.effects[0].element.makePositioned().makeClipping()},afterFinishInternal:function(a){a.effects[0].element.hide().undoClipping().undoPositioned().setStyle(g)}},e))};Effect.Pulsate=function(a){a=$(a);var b=arguments[1]||{},c=a.getInlineOpacity(),d=b.transition||Effect.Transitions.linear,e=function(a){return 1-d(-Math.cos(a*(b.pulses||5)*2*Math.PI)/2+.5)};return new Effect.Opacity(a,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(a){a.element.setStyle({opacity:c})}},b),{transition:e}))};Effect.Fold=function(a){var b=false;a=$(a);var c={top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height};a.makeClipping();return new Effect.Scale(a,5,Object.extend({scaleContent:b,scaleX:b,afterFinishInternal:function(){new Effect.Scale(a,1,{scaleContent:b,scaleY:b,afterFinishInternal:function(a){a.element.hide().undoClipping().setStyle(c)}})}},arguments[1]||{}))};Effect.Morph=Class.create(Effect.Base,{initialize:function(c){var a=this;a.element=$(c);if(!a.element)throw Effect._elementDoesNotExistError;var b=Object.extend({style:{}},arguments[1]||{});if(!Object.isString(b.style))a.style=$H(b.style);else if(b.style.include(":"))a.style=b.style.parseStyle();else{a.element.addClassName(b.style);a.style=$H(a.element.getStyles());a.element.removeClassName(b.style);var d=a.element.getStyles();a.style=a.style.reject(function(a){return a.value==d[a.key]});b.afterFinishInternal=function(a){a.element.addClassName(a.options.style);a.transforms.each(function(b){a.element.style[b.style]=""})}}a.start(b)},setup:function(){var a="color";function b(a){if(!a||["rgba(0, 0, 0, 0)","transparent"].include(a))a="#ffffff";a=a.parseColor();return $R(0,2).map(function(b){return parseInt(a.slice(b*2+1,b*2+3),16)})}this.transforms=this.style.map(function(h){var f=h[0],c=h[1],d=null;if(c.parseColor("#zzzzzz")!="#zzzzzz"){c=c.parseColor();d=a}else if(f=="opacity"){c=parseFloat(c);Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1})}else if(Element.CSS_LENGTH.test(c)){var e=c.match(/^([\+\-]?[0-9\.]+)(.*)$/);c=parseFloat(e[1]);d=e.length==3?e[2]:null}var g=this.element.getStyle(f);return{style:f.camelize(),originalValue:d==a?b(g):parseFloat(g||0),targetValue:d==a?b(c):c,unit:d}}.bind(this)).reject(function(b){return b.originalValue==b.targetValue||b.unit!=a&&(isNaN(b.originalValue)||isNaN(b.targetValue))})},update:function(b){var c={},a,d=this.transforms.length;while(d--)c[(a=this.transforms[d]).style]=a.unit=="color"?"#"+Math.round(a.originalValue[0]+(a.targetValue[0]-a.originalValue[0])*b).toColorPart()+Math.round(a.originalValue[1]+(a.targetValue[1]-a.originalValue[1])*b).toColorPart()+Math.round(a.originalValue[2]+(a.targetValue[2]-a.originalValue[2])*b).toColorPart():(a.originalValue+(a.targetValue-a.originalValue)*b).toFixed(3)+(a.unit===null?"":a.unit);this.element.setStyle(c,true)}});Effect.Transform=Class.create({initialize:function(a){this.tracks=[];this.options=arguments[1]||{};this.addTracks(a)},addTracks:function(a){a.each(function(a){a=$H(a);var b=a.values().first();this.tracks.push($H({ids:a.keys().first(),effect:Effect.Morph,options:{style:b}}))}.bind(this));return this},play:function(){return new Effect.Parallel(this.tracks.map(function(a){var b=a.get("ids"),e=a.get("effect"),d=a.get("options"),c=[$(b)||$$(b)].flatten();return c.map(function(a){return new e(a,Object.extend({sync:true},d))})}).flatten(),this.options)}});Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex");Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;String.__parseStyleElement=document.createElement("div");String.prototype.parseStyle=function(){var a=this,b,c=$H();if(Prototype.Browser.WebKit)b=(new Element("div",{style:a})).style;else{String.__parseStyleElement.innerHTML='<div style="'+a+'"></div>';b=String.__parseStyleElement.childNodes[0].style}Element.CSS_PROPERTIES.each(function(a){b[a]&&c.set(a,b[a])});Prototype.Browser.IE&&a.include("opacity")&&c.set("opacity",a.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]);return c};if(document.defaultView&&document.defaultView.getComputedStyle)Element.getStyles=function(a){var b=document.defaultView.getComputedStyle($(a),null);return Element.CSS_PROPERTIES.inject({},function(c,a){c[a]=b[a];return c})};else Element.getStyles=function(a){a=$(a);var c=a.currentStyle,b;b=Element.CSS_PROPERTIES.inject({},function(b,a){b[a]=c[a];return b});if(!b.opacity)b.opacity=a.getOpacity();return b};Effect.Methods={morph:function(a,b){a=$(a);new Effect.Morph(a,Object.extend({style:b},arguments[2]||{}));return a},visualEffect:function(a,d,c){a=$(a);var b=d.dasherize().camelize(),e=b.charAt(0).toUpperCase()+b.substring(1);new Effect[e](a,c);return a},highlight:function(a,b){a=$(a);new Effect.Highlight(a,b);return a}};$w("fade appear grow shrink fold blindUp blindDown slideUp slideDown pulsate shake puff squish switchOff dropOut").each(function(a){Effect.Methods[a]=function(b,c){b=$(b);Effect[a.charAt(0).toUpperCase()+a.substring(1)](b,c);return b}});$w("getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles").each(function(a){Effect.Methods[a]=Element[a]});Element.addMethods(Effect.Methods);
