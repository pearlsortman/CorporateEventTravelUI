//Createdby: Minifier404
//Compiler: MSFT AjaxMin
//Generated: 2016-09-22 08:04:12
//FileList: /javascript/sorttable.js,/javascript/tripitfuncs.js,/javascript/views/dash/dashboard-newsandnotes.js

//FileName: /javascript/sorttable.js
addEvent(window,"load",ts_sortables_init);var SORT_COLUMN_INDEX;function ts_addClassName(a,b){if(typeof a=="string")a=document.getElementById(a);if(a){var c="(\\s|^)("+b+")(\\s|$)",d=new RegExp(c,"g");if(!d.test(a.className))a.className+=" "+b}}function ts_removeClassName(a,c){if(typeof a=="string")a=document.getElementById(a);if(a){var d="(\\s|^)("+c+")(\\s|$)",b=new RegExp(d);b.global=true;a.className=a.className.replace(b,"$3")}}function ts_sortables_init(){if(!document.getElementsByTagName)return;tbls=document.getElementsByTagName("table");for(ti=0;ti<tbls.length;ti++){thisTbl=tbls[ti];(" "+thisTbl.className+" ").indexOf("sortable")!=-1&&ts_makeSortable(thisTbl)}}function ts_makeSortable(a){if(a.rows&&a.rows.length>2&&a.rows.length<500)var b=a.rows[0];if(!b)return;for(var d=0;d<b.cells.length;d++){var c=b.cells[d],e=ts_getInnerText(c);if(e.length<3||c.getAttribute("nosort"))continue;c.innerHTML='<a href="#" class="sortheader" onclick="ts_resortTable(this);return false;">'+e+'<span class="sortarrow"></span></a>'}}function ts_getInnerText(a){if(typeof a=="string")return a;if(typeof a=="undefined")return a;if(a.innerText)return a.innerText;for(var d="",c=a.childNodes,e=c.length,b=0;b<e;b++)switch(c[b].nodeType){case 1:d+=ts_getInnerText(c[b]);break;case 3:d+=c[b].nodeValue}return d}function ts_resortTable(l,d){var o="reporttable-row-alternate",n="sortbottom",k="sortdir",e;if(!d)d=l;for(var b=0;b<d.childNodes.length;b++)if(d.childNodes[b].tagName&&d.childNodes[b].tagName.toLowerCase()=="span")e=d.childNodes[b];var s=ts_getInnerText(e),m=l.parentNode,p=m.cellIndex,c=getParent(m,"TABLE"),q=c.getAttribute("alternateRowClasses")=="true";if(c.rows.length<=1)return;sortfn=ts_sort_caseinsensitive;var f=m.getAttribute("datatype");if(f){if(f=="varchar")sortfn=ts_sort_caseinsensitive;else if(f=="date")sortfn=ts_sort_date;else if(f=="money")sortfn=ts_sort_currency;else if(f=="numeric")sortfn=ts_sort_numeric}else{var h=ts_getInnerText(c.rows[1].cells[p]);if(h.match(/^\d\d[\/-]\d\d[\/-]\d\d\d\d$/))sortfn=ts_sort_date;if(h.match(/^\d\d[\/-]\d\d[\/-]\d\d$/))sortfn=ts_sort_date;if(h.match(/^[ï¿½$]/))sortfn=ts_sort_currency;if(h.match(/^[\d\.]+$/))sortfn=ts_sort_numeric}SORT_COLUMN_INDEX=p;var r=[],a=[];for(i=0;i<c.rows[0].length;i++)r[i]=c.rows[0][i];for(j=1;j<c.rows.length;j++)a[j-1]=c.rows[j];a.sort(sortfn);if(e.getAttribute(k)=="down"){ARROW='<img src="/images/SortDown.gif" border="0" alt="'+OTGetUserMessage("Common","SortedDescending")+'"/>';a.reverse();e.setAttribute(k,"up")}else{ARROW='<img src="/images/SortUp.gif" border="0" alt="'+OTGetUserMessage("Common","SortedAscending")+'"/>';e.setAttribute(k,"down")}for(i=0;i<a.length;i++)if(!a[i].className||a[i].className&&a[i].className.indexOf(n)==-1){if(q==true)if(i%2==0)ts_addClassName(a[i],o);else ts_removeClassName(a[i],o);c.tBodies[0].appendChild(a[i])}for(i=0;i<a.length;i++)a[i].className&&a[i].className.indexOf(n)!=-1&&c.tBodies[0].appendChild(a[i]);for(var g=document.getElementsByTagName("span"),b=0;b<g.length;b++)if(g[b].className=="sortarrow")if(getParent(g[b],"table")==getParent(l,"table"))g[b].innerHTML="";e.innerHTML=ARROW}function getParent(a,b){return a==null?null:a.nodeType==1&&a.tagName.toLowerCase()==b.toLowerCase()?a:getParent(a.parentNode,b)}function ts_sort_date(c,d){aa=ts_getInnerText(c.cells[SORT_COLUMN_INDEX]);bb=ts_getInnerText(d.cells[SORT_COLUMN_INDEX]);var a=ts_JSUnformatDate(aa),b=ts_JSUnformatDate(bb);return a==b?0:a<b?-1:1}function ts_sort_currency(a,b){aa=ts_getInnerText(a.cells[SORT_COLUMN_INDEX]).replace(/[^0-9.\-\(]/g,"");bb=ts_getInnerText(b.cells[SORT_COLUMN_INDEX]).replace(/[^0-9.\-\(]/g,"");aa=aa.replace(/[\(]/g,"-");bb=bb.replace(/[\(]/g,"-");return parseFloat(aa)-parseFloat(bb)}function ts_sort_numeric(a,b){aa=parseFloat(ts_getInnerText(a.cells[SORT_COLUMN_INDEX]));if(isNaN(aa))aa=0;bb=parseFloat(ts_getInnerText(b.cells[SORT_COLUMN_INDEX]));if(isNaN(bb))bb=0;return aa-bb}function ts_sort_caseinsensitive(a,b){aa=ts_getInnerText(a.cells[SORT_COLUMN_INDEX]).toLowerCase();bb=ts_getInnerText(b.cells[SORT_COLUMN_INDEX]).toLowerCase();return aa==bb?0:aa<bb?-1:1}function ts_sort_default(a,b){aa=ts_getInnerText(a.cells[SORT_COLUMN_INDEX]);bb=ts_getInnerText(b.cells[SORT_COLUMN_INDEX]);return aa==bb?0:aa<bb?-1:1}function ts_JSUnformatDate(d){var b="/",c=d.replace(/-|\.|\//g,"-"),a=c.split("-");if(window.userDatePreference!=null&&window.OT_DateFormat_MDY_slash!=null)switch(userDatePreference){case OT_DateFormat_MDY_slash:case OT_DateFormat_MDY_hyphen:case OT_DateFormat_MDY_dot:return a[2]+b+a[0]+b+a[1];break;case OT_DateFormat_DMY_slash:case OT_DateFormat_DMY_hyphen:case OT_DateFormat_DMY_dot:return a[2]+b+a[1]+b+a[0];break;default:return a[0]+b+a[1]+b+a[2]}else return a[2]+b+a[0]+b+a[1]};

//FileName: /javascript/tripitfuncs.js
var gTripItSignIn=null;function showTripItSignUp(b,a){var c=false;a=a||{};if(!gTripItSignIn)gTripItSignIn=new tripItSignIn(a.isPro);gTripItSignIn.primaryEmail=a.primaryEmail;if(a.showInPopup){gTripItSignIn.urlToRefresh=document.location.href.replace("#","");if(a.queryString)gTripItSignIn.urlToRefresh+="?"+a.queryString;if(a.forceSSL=="True"&&gTripItSignIn.urlToRefresh.indexOf("http:/")==0){document.location.href=gTripItSignIn.urlToRefresh+(gTripItSignIn.urlToRefresh.indexOf("?")==-1?"?":"&")+"trm="+b;return}gTripItSignIn.Pro=a.isPro?"Pro":"";gTripItSignIn.showExpense=!!a.showExpense;gTripItSignIn.showTravel=!!a.showTravel;gTripItSignIn.options=a;gTripItSignIn.stepN=b;gTripItSignIn.openBooking=!!a.openBooking;gTripItSignIn.showDismissLink=!!a.showDismissLink;gTripItSignIn.showInPopup=true;var e=470,d=540,f=c;if(CNQR.IsBronx)d=600;else if(a.isPro){d=600;e=800;f=true}else if(CNQR.IsGateway){e=500;d=600}CNQR.ipmOverlaysPermitted=c;otShowPopupDialog(gTripItSignIn.getHTML(),null,{showClose:c,draggable:c,modal:true,width:e,height:d,overflow:"visible",title:"",identifier:"tripitsigninpopup"});if(f)$("otPopupDialogContents").style.padding="0"}b==0&&gTripItSignIn.showSignIn();b==1&&gTripItSignIn.showSignUp();b==2&&gTripItSignIn.showVerificationPending(a.verificationPendingEmail);b==3&&gTripItSignIn.hideInvitation();b==-99&&gTripItSignIn.showCongratulations(a.verificationPendingEmail)}var gOpenBookingDialog=null,isGov="False";function showOpenBookingSetupDialog(c){var b="otPopupDialogdiv",a=true;isGov=c;if(!gOpenBookingDialog)gOpenBookingDialog=new tripItSignIn;gOpenBookingDialog.showInPopup=a;otShowPopupDialog(gOpenBookingDialog.getHTMLOpenBooking(),null,{showClose:a,draggable:a,modal:a,width:800,height:600,minHeight:200,overflow:"visible",title:"",identifier:"openbookingsetuppopup"});$(b).style.width="799px";$(b).style.height="599px";$(b).style.margin="0px 0px 0px 0px";$("otPopupDialogContents").style.height="599px";setTimeout(function(){gOpenBookingDialog.getVerifiedEmail()},750)}function checkTripItVerification(a){a=a||{showSuccess:true,showErrors:false};if(!gTripItSignIn)gTripItSignIn=new tripItSignIn;gTripItSignIn.checkForVerifiedEmail(a)}function upgrateToTripItPro(a){a=a||{showSuccess:true,showErrors:false};if(!gTripItSignIn)gTripItSignIn=new tripItSignIn;gTripItSignIn.upgrateToTripItPro(a)}tripItSignIn=function(lc){var W="\r\n",kc="TripItMobileBtn",jc='" onclick="window.open(\'http://www.tripit.com/uhp/mobile\')">',ic="HeresHowToGetIt",V="DontTripItMobileAppYet",U='<div class="TripItSignSection TripItSignDetail">',hc='<div class="TripItSignInButtonRow" style="text-align:right;">',gc="CongratulationsDetail2",fc="<span class='TripItSignInEmail' id='tripItSignCongratulationsEmail'>&nbsp;</span>",ec="CongratulationsDetail1",T="Congratulations",dc="StartOverBtn",cc='" onclick="gTripItSignIn.showSignUp();">',bc='&nbsp;&nbsp;<button class="',ac='"  onclick="document.location.href=\'',Zb='<div class="TripItSignInButtonRow"  style="text-align:right; text-float:right;">',Yb="TripItVerificationPendingDetail2",Xb="TripItVerificationPendingDetail1",Wb='<div class="TripItSignInSecondary TripItSignDetail"><span class="TripItSignInEmail" id="TripItVerificationPendingEmail">&nbsp;</span></div>',Vb="TripItVerificationPending",z="Continue",y="'\">",x='" onclick="document.location.href=\'',K='<div class="TripItSignInButtonRow"  style="text-align:right;">',Ub="ThanksForSigningUpDetail3",Tb="ThanksForSigningUpDetail2",Sb="<span class='TripItSignInEmail' id='tripItSignThanksForSigningUpEmail'>&nbsp;</span>",Rb="ThanksForSigningUpDetail1",Qb="ThanksForSigningUp",n='<div class="TripItSignInPrimary">',r='<div class="TripItSignSection">',Pb="</a></div>",Ob="TripItMoreInfo",Nb="TripItLegal2",Mb="TripItUserAgreement",Lb="TripItLegal1",Kb="AlreadyHaveTripItaccount",Jb='<a class="TripItSignInHelpLink" href="#" onclick="gTripItSignIn.showSignUp();">',h="</button>",j='<button class="',Ib="NoUserFoundDetail2",Hb="NoUserFoundDetail1",Gb="NoUserFound",Fb='<div id="tripItSignInFormNoUserError" class="TripItSignSection">',Eb="InsufficientPasswordErrorDetail1",Db="InsufficientPasswordError",Cb='<div id="tripItSignInFormInsufficientPasswordError" class="TripItSignSection">',g="</a>",Bb="LoginPasswordErrorDetail2Link",Ab="LoginPasswordErrorDetail2Label",f='<div class="TripItSignInSecondary TripItSignDetail">',zb="LoginPasswordErrorDetail1",l='<div class="TripItSignInSecondary">',yb="LoginPasswordError",J='<div class="TripItSignInError TripItSignInPrimary">',xb='<div id="tripItSignInFormPasswordError" class="TripItSignSection">',wb="TripItPasswordHelp",vb="TripItPasswordFieldLabel",w="</label>",ub="TripItEmailFieldLabel",tb='<div style="margin-bottom: 10px;">',I="</h3>",S="<h3>",sb='<div class="TripItForm">',q="</p>",t="<p>",rb='<div id="tripItSignInWaitDiv" class="tripItSignInWait">',qb='<div class="TripItContent">',pb='<div class="TripItSignInContent ddrag">',ob="\t   </a>",H="Close",i="Common",nb='\t\t\t  <span class="screen-reader-only">',mb='\t\t\t  <i class="icon-close"></i>',lb='\t   <a onclick="otHidePopupDialog();" role="button" href="javascript:void(0);">',G=" tripItSignInBtnDialogIE",F="MSIE 8",E="MSIE 7",D="MSIE 6",kb="tripItSignInBtn2",v="SignInBtn",jb="showSignIn",R="otPopupDialogContents",ib="0px 0px 0px 0px",C="599px",s="otPopupDialogdiv",hb="tripItSinUpPrefsRow",m="tripItSignInLogin",Q="SignUpBtn",B="tripItSignInBtn",gb="showSignUp",fb="tripItSignUpBeforeForm",eb="tripItSignInBeforeForm",A="TripItSignInHelpLink",db="tripItSignUpAlreadyHaveAccount",cb="tripItSignInNotAUser",P="tripItSignInFormIntro",bb="tripItVerificationPending",u="tripItSignInForm",ab="tripItSignCongratulations",Z="tripItSignThanksForSigningUp",O="tripItSignInBodyDiv",N="tripItSignInWaitDiv",a="</div>",L="ErrorCommmunicating",b="TravelPortal",p='<div class="TripItSignInPrimary TripItSignInError">',M='<div id="tripItSignInFormCommunicatingError" class="TripItSignSection">',Y="<Status>OK</Status>",o="Communicating",X="POST",k="",e=true,d="block",c="none";return{getVerifiedEmail:function(){var f="tripItOpenNotVerified",e="tripItOpenHasVerified",b="tripItOpenVerifiedMain",a="tripItOpenProcessing";function i(h,j){for(var g=0;g<h.length;g++){var i=document.createElement("LI");i.innerHTML=h[g];j.appendChild(i)}tiHideShow(a,c);tiHideShow(b,d);tiHideShow(e,d);tiHideShow(f,c)}function j(){tiHideShow(a,c);tiHideShow(b,c);tiHideShow(e,c);tiHideShow(f,d)}var g=$("verifiedEmailList");if(g)if(g.getElementsByTagName("li").length===0){var h={method:"GET",onSuccess:function(b){var a=[];try{a=b.responseText.evalJSON()}catch(c){a=[]}if(a.length===0)j();else i(a,g)},onFailure:function(){this.verifiedEmails=[]},onException:function(){this.verifiedEmails=[]}};new Ajax.Request("/net2/tripit/VerifiedEmail.ashx",h)}},fixPosAndSize:function(){if(this.showInPopup){otPopupDialog.resizeDiv();otPopupDialog.positionCenter()}},hideInvitation:function(){var a=$("tripitalertdiv");if(a){a.parentNode.removeChild(a);new Ajax.Request("/net2/TripIt/HideInvitation.ashx")}},upgrateToTripItPro:function(a){a=a||{showSuccess:e,showErrors:e,verificationPendingEmail:k};var b={method:X,postBody:Object.toQueryString({has_tripit_pro:a.toStatus}),onSuccess:function(){return},onFailure:function(){},onException:function(){}};new Ajax.Request("/net2/TripIt/UpdateTripItProStatus.ashx",b)},checkForVerifiedEmail:function(c){c=c||{showSuccess:e,showErrors:e,verificationPendingEmail:k};var d={method:X,onSuccess:function(b){var a=b.responseText;if(!a||a==k){c.showSuccess&&gTripItSignIn.showSignUp(o,false);return}if(a.indexOf(Y)>0){c.showSuccess&&showTripItSignUp(-99,{showInPopup:e,verificationPendingEmail:c.verificationPendingEmail,isPro:c.isPro,showExpense:c.showExpense,showTravel:c.showTravel});return}},onFailure:function(f){f&&f.status==403;if(c.showErrors){var d=M;d+=p+OTGetUserMessage(b,L);d+=a;otShowPopupDialog(d,null,{showClose:e,draggable:false,modal:e,width:427,title:k,identifier:"tripitsigninpopup"})}},onException:function(a){onFailure(a)}};new Ajax.Request("/net2/TripIt/LinkToTripItCheckValidation.ashx",d)},hideAll:function(){tiHideShow(N,c);tiHideShow(O,d);tiHideShow(Z,c);tiHideShow(ab,c);tiHideShow(u,c);tiHideShow(bb,c);tiHideShow("tripItSignInFormPasswordError",c);tiHideShow("tripItSignInFormInsufficientPasswordError",c);tiHideShow("tripItSignInFormNoUserError",c);tiHideShow("tripItSignInFormCommunicatingError",c);tiHideShow(P,c);tiHideShow(cb,c);tiHideShow(db,c);tiHideShow(A,c);tiHideShow(eb,c);tiHideShow(fb,c)},showThanksForSigning:function(a){this.hideAll();tiHideShow(Z,d);$("tripItSignThanksForSigningUpEmail").innerHTML=a;this.fixPosAndSize()},showCongratulations:function(a){this.hideAll();tiHideShow(ab,d);$("tripItSignCongratulationsEmail").innerHTML=a;this.fixPosAndSize()},showSignUp:function(a,c){this.hideAll();this.mode=gb;$(B).innerHTML=CNQR.IsBronx||!lc?OTGetUserMessage(b,"SignUpBtnNowItsFree"):OTGetUserMessage(b,Q);if(!c&&gTripItSignIn.primaryEmail)$(m).value=gTripItSignIn.primaryEmail;tiHideShow(hb,d);if(a)tiHideShow(u+a+"Error",d);else tiHideShow(P,d);tiHideShow(u,d);tiHideShow(db,d);tiHideShow(fb,d);this.fixPosAndSize();if(lc){$(s).style.width="799px";$(s).style.height=C;$(s).style.margin=ib;$(R).style.height=C}$(m).focus()},showVerificationPending:function(a){this.hideAll();tiHideShow(bb,d);$("TripItVerificationPendingEmail").innerHTML=a;this.fixPosAndSize()},showOpenBooking:function(){this.mode="showOpenBooking";$(R).innerHTML=this.getHTMLOpenBooking();setTimeout(this.getVerifiedEmail,750)},showSignIn:function(a,e){this.mode=jb;this.hideAll(a);tiHideShow(hb,c);if(!e)$(m).value=k;$(B).innerHTML=OTGetUserMessage(b,v);tiHideShow(u,d);if(a)tiHideShow(u+a+"Error",d);else tiHideShow(P,d);tiHideShow(cb,d);tiHideShow(A,d);tiHideShow(eb,d);this.fixPosAndSize();if(lc){$(s).style.width="799px";$(s).style.height=C;$(s).style.margin=ib;$(R).style.height=C}$(m).focus()},doSign:function(){var b="false",a="true";function f(b){var a=$(b);return a?a.checked:e}$(N).style.height=$(O).offsetHeight;tiHideShow(N,d);tiHideShow(O,c);var g=f("TripItSignInOptEmail"),h=f("TripItSignInPublic"),i={method:X,postBody:Object.toQueryString({username:$(m).value,password:$("tripItSignInPassword").value,signin_only:this.mode==jb?a:b,is_opted_in_emails:this.mode==gb&&g?a:b,trip_privacy:h?b:a,has_tripit_pro:this.Pro=="Pro"?a:b}),onSuccess:function(b){var a=b.responseText;if(!a||a==k){gTripItSignIn[gTripItSignIn.mode](o,e);return}if(a.indexOf("Response: <none>")>0||a.indexOf("<Status>InvalidUsername</Status>")>0){gTripItSignIn[gTripItSignIn.mode]("NoUser",e);return}if(a.indexOf("<Status>InvalidPassword</Status>")>0){gTripItSignIn[gTripItSignIn.mode]("Password",e);return}if(a.indexOf("<Status>InsufficientPassword</Status>")>0){gTripItSignIn[gTripItSignIn.mode]("InsufficientPassword",e);return}if(a.indexOf(Y)){if(a.indexOf("<IsEmailAddressVerified>1</IsEmailAddressVerified>")>0)gTripItSignIn.showCongratulations($(m).value);else if(a.indexOf("<IsNewAccount>1</IsNewAccount>")>0)gTripItSignIn.showThanksForSigning($(m).value);else gTripItSignIn.showVerificationPending($(m).value);return}gTripItSignIn[gTripItSignIn.mode](o,e)},onFailure:function(){gTripItSignIn[gTripItSignIn.mode](o,e)},onException:function(){gTripItSignIn[gTripItSignIn.mode](o,e)}};new Ajax.Request("/net2/TripIt/LinkToTripIt.ashx",i)},getHTMLTripItPro:function(){var o='<p class="TripItSignInText">',d=this,c=[],m=navigator.userAgent,e=B,s=kb;e+=!CNQR.IsGateway&&(m.indexOf(D)>0||m.indexOf(E)>0||m.indexOf(F)>0)?G:k;s+=!CNQR.IsGateway&&(m.indexOf(D)>0||m.indexOf(E)>0||m.indexOf(F)>0)?G:k;if(d.showInPopup){c.push('<div class="popupdialogtitlebar" id="popupdialogtitlebar">');c.push('\t<div class="popupdialogclose">');c.push(lb);c.push(mb);c.push(nb+OTGetUserMessage(i,H)+"</span>");c.push(ob);c.push("\t</div>");c.push(a)}c.push(pb);c.push("<h2>"+OTGetUserMessage(b,"TripItObHeader")+"</h2>");c.push('<div class="TripItSubHd">'+OTGetUserMessage(b,"TripItObSubHeader")+a);c.push('<div id="tripItSignInBodyDiv">');c.push('<div class="TripItMain">');c.push(qb);c.push('<img src="/images/tripit/OpenBookingLogos_Large.png" width="345" height="60" alt="" style="padding:0;margin:0" />');c.push(rb);c.push(a);c.push("<div>");c.push("<h4>"+OTGetUserMessage(b,"TripItObHeaderPointA")+"</h4>");c.push(t+OTGetUserMessage(b,"TripItObTextPointA")+q);c.push("<h4>"+OTGetUserMessage(b,"TripItObHeaderPointB")+"</h4>");c.push(t+OTGetUserMessage(b,"TripItObTextPointB")+q);c.push("</div></div>");c.push(sb);c.push(S+OTGetUserMessage(b,"TripItObActivate")+I);c.push('<div id="tripItSignInForm" class="clearfix">');c.push(tb);c.push('<label for="tripItSignInLogin">'+OTGetUserMessage(b,ub)+w);c.push('<input id="tripItSignInLogin" type="text" style="margin-bottom: 15px;" class="TripItSignInput" onfocus="Element.addClassName(this, \'TripItSignInputFocused\')" onblur="Element.removeClassName(this, \'TripItSignInputFocused\')" />');c.push('<label for="tripItSignInPassword">'+OTGetUserMessage(b,vb)+w);c.push('<input id="tripItSignInPassword" style="margin-bottom: 10px;" type="password" class="TripItSignInput" onfocus="Element.addClassName(this, \'TripItSignInputFocused\')" onblur="Element.removeClassName(this, \'TripItSignInputFocused\')" />');c.push('<div class="TripItSignInFieldLabel" style="width:230px;">'+OTGetUserMessage(b,wb)+a);c.push(a);c.push(xb);c.push(J+OTGetUserMessage(b,yb)+a);c.push(l+OTGetUserMessage(b,zb)+a);c.push(f);c.push(OTFormatUserMessage(b,Ab,'<a href="http://www.tripit.com/account/forgotPassword" class="TripItSignInHelpLink2 TripItSignInSecondary" target="new">'+OTGetUserMessage(b,Bb)+g));c.push(a);c.push(a);c.push(Cb);c.push(J+OTGetUserMessage(b,Db)+a);c.push(l+OTGetUserMessage(b,Eb)+a);c.push(a);c.push(Fb);c.push(p+OTGetUserMessage(b,Gb)+a);c.push(l+OTGetUserMessage(b,Hb)+a);c.push(f+OTGetUserMessage(b,Ib)+a);c.push(a);c.push(M);c.push(p+OTGetUserMessage(b,L)+a);c.push(a);c.push('<div">');c.push(j+e+'" id="tripItSignInBtn" onclick="gTripItSignIn.doSign();return false;" style="margin-bottom:10px;">'+OTGetUserMessage(b,v)+h);c.push(a);c.push('<div style="display: block;" id="tripItSignInBeforeForm" class="TripItSignSection">');c.push('<a style="display: block;" tabindex="-1" id="TripItSignInHelpLink" class="TripItSignInHelpLink TripItSignInHelpLinkOB" href="http://www.tripit.com/account/forgotPassword" target="new">'+OTGetUserMessage(b,A)+g);c.push(o+OTFormatUserMessage(b,"TripItObNeedAccount",Jb+OTGetUserMessage(b,Q)+g)+q);c.push(a);c.push('<div style="display: none;" id="tripItSignUpBeforeForm" class="TripItSignSection">');c.push(o+OTGetUserMessage(b,Kb)+' <a class="TripItSignInHelpLink" href="#" onclick="gTripItSignIn.showSignIn();">'+OTGetUserMessage(b,v)+"</a></p>");c.push('<div class="TripItSignInLegalText">'+OTFormatUserMessage(b,Lb,'<a href="http://www.tripit.com/uhp/userAgreement" target="_blank" class="TripItSignInLegalLink2">'+OTGetUserMessage(b,Mb)+g)+"<br/>"+OTGetUserMessage(b,Nb)+'  <a href="#" class="TripItSignInLegalLink2" onclick="ShowWeDontSharePopup(this)">'+OTGetUserMessage(b,Ob)+Pb);c.push(a);c.push(a);c.push(a);if(d.openBooking){c.push('<div class="TripItOpenBooking">');c.push(OTGetUserMessage(b,"TripItObMessageOpenBooking"));c.push('<a href="#" onclick="gTripItSignIn.showOpenBooking()">'+OTGetUserMessage(b,"LearnMore")+g);c.push(a)}c.push(a);c.push(a);c.push('<div id="tripItSignThanksForSigningUp" class="tripItProConfirm" style="display:none">');c.push(r);c.push(n+OTGetUserMessage(b,Qb)+a);c.push(f+OTFormatUserMessage(b,Rb,Sb)+a);c.push(f+OTGetUserMessage(b,Tb)+a);c.push(f+OTGetUserMessage(b,Ub)+a);c.push(a);c.push(K);c.push(j+e+x+d.urlToRefresh+y+OTGetUserMessage(i,z)+h);c.push(a);c.push(a);c.push('<div id="tripItVerificationPending" class="tripItProConfirm" style="display:none">');c.push(r);c.push(p+OTGetUserMessage(b,Vb)+a);c.push(Wb);c.push(f+OTGetUserMessage(b,Xb)+a);c.push(f+OTGetUserMessage(b,Yb)+a);c.push(a);c.push(Zb);c.push(j+e+ac+d.urlToRefresh+"';\">"+OTGetUserMessage(i,H)+h);c.push(bc+e+cc+OTGetUserMessage(b,dc)+h);c.push(a);c.push(a);c.push('<div id="tripItSignCongratulations" class="tripItProConfirm" style="display:none">');c.push(r);c.push(n+OTGetUserMessage(b,T)+a);c.push(l+OTFormatUserMessage(b,ec+d.Pro,fc)+a);c.push(f+OTGetUserMessage(b,gc+d.Pro)+a);c.push(a);c.push(hc);c.push(j+e+x+d.urlToRefresh+y+OTGetUserMessage(i,z)+h);c.push(a);c.push(U);c.push(n+OTGetUserMessage(b,V)+a);c.push(l+OTGetUserMessage(b,ic)+a);c.push(a);c.push(K);c.push(j+e+jc+OTGetUserMessage(b,kc)+h);c.push(a);c.push(a);if(d.showDismissLink){c.push('<div id="dontShowAgain" style="float:right; margin:0px 19px 0px 0px">');c.push('<a href="#" onclick="tiDontShowThisAgain(\'ti_DialogPro\'); ">'+OTGetUserMessage(b,"DontShowThisAgain")+g)}c.push(a);c.push(a);c.push(a);return c.join(W)},getHTMLEx:function(){var I="</div></label>",m="</li>",e="<li>",q='<div style="padding-bottom:10px;color: #155588;">',C='<div class="TripItSignInPrimary" style="padding-bottom:10px">',u='<div class="TripItSignInPrimaryBrx">',t='<div id="tripItSignCongratulations" style="display:none">',d=this,c=[],s=navigator.userAgent,o=B,N=kb;o+=!CNQR.IsGateway&&(s.indexOf(D)>0||s.indexOf(E)>0||s.indexOf(F)>0)?G:k;N+=!CNQR.IsGateway&&(s.indexOf(D)>0||s.indexOf(E)>0||s.indexOf(F)>0)?G:k;if(CNQR.IsBronx)c.push('<div class="TripItSignInCloudBrx">');else c.push('<div class="TripItSignInCloud">');c.push('<div  style="postion:relative;padding-bottom:50px;padding-right:1px;" class="ddrag">');c.push('<div class="TripItSignInDialogHeader">');c.push(OTGetUserMessage(b,"ConnectToTripItHeader"));c.push(a);if(d.showInPopup){c.push('<div class="popupdialogclose">');c.push(lb);c.push(mb);c.push(nb+OTGetUserMessage(i,H)+"</span>");c.push(ob);c.push(a)}c.push(a);c.push(rb);c.push(a);c.push('<div style="padding:20px;" id="tripItSignInBodyDiv">');c.push('<div id="tripItSignThanksForSigningUp" style="display:none">');c.push(r);c.push(n+OTGetUserMessage(b,Qb)+a);c.push(f+OTFormatUserMessage(b,Rb,Sb)+a);c.push(f+OTGetUserMessage(b,Tb)+a);c.push(f+OTGetUserMessage(b,Ub)+a);c.push(a);c.push(K);c.push(j+o+x+d.urlToRefresh+y+OTGetUserMessage(i,z)+h);c.push(a);c.push(a);c.push('<div id="tripItVerificationPending" style="display:none">');c.push(r);c.push(p+OTGetUserMessage(b,Vb)+a);c.push(Wb);c.push(f+OTGetUserMessage(b,Xb)+a);c.push(f+OTGetUserMessage(b,Yb)+a);c.push(a);c.push(Zb);c.push(j+o+ac+d.urlToRefresh+"';\">"+OTGetUserMessage(i,H)+h);c.push(bc+o+cc+OTGetUserMessage(b,dc)+h);c.push(a);c.push(a);if(CNQR.IsBronx){c.push(t);c.push(r);c.push(u+OTGetUserMessage(b,T)+a);c.push('<div class="TripItSignInSecondaryBrx">'+OTFormatUserMessage(b,"CongratulationsDetail1Brx","<span class='TripItSignInEmailBrx' id='tripItSignCongratulationsEmail'>&nbsp;</span>")+a);c.push('<div class="TripItSignInSecondaryBrx TripItSignDetailBrx">'+OTGetUserMessage(b,"CongratulationsDetail2Brx")+a);c.push(a);c.push('<div class="TripItSignInButtonRow" style="text-align:center;padding-left: 20px;">');c.push(j+o+x+d.urlToRefresh+y+OTGetUserMessage(i,z)+h);c.push(a);c.push('<div class="TripItSignUpMobileBrx">');c.push(U);c.push(u+OTGetUserMessage(b,V)+a);c.push('<a style="color: #E87D1E" href="http://www.tripit.com/uhp/mobile" >'+OTGetUserMessage(b,"TripItMobileBrx")+g);c.push(a);c.push(a);c.push(a)}else{c.push(t);c.push(r);c.push(n+OTGetUserMessage(b,T)+a);c.push(l+OTFormatUserMessage(b,ec+d.Pro,fc)+a);c.push(f+OTGetUserMessage(b,gc+d.Pro)+a);c.push(a);c.push(hc);c.push(j+o+x+d.urlToRefresh+y+OTGetUserMessage(i,z)+h);c.push(a);c.push(U);c.push(n+OTGetUserMessage(b,V)+a);c.push(l+OTGetUserMessage(b,ic)+a);c.push(a);c.push(K);c.push(j+o+jc+OTGetUserMessage(b,kc)+h);c.push(a);c.push(a)}c.push('<div id="tripItSignInFormIntro" class="TripItSignSection">');if(CNQR.IsBronx){c.push(C+OTGetUserMessage(b,"TripItSignUpHeaderBronx_1")+a);c.push('<div class="TripItSignUpLearnBrx">')}else{c.push(C+OTGetUserMessage(b,"TripItSignUpHeaderN1_1"+d.Pro)+a);c.push('<div class="TripItSignUpLearn'+d.Pro+'"> ')}c.push('<div class="TripItSignInFieldLabel" style="cccccheight: 70px;padding-top:10px;">');if(CNQR.IsBronx){c.push('<div style="">');c.push(q+OTFormatUserMessage(b,"TripItSignUpBronxDetail_1")+a);c.push(q+OTFormatUserMessage(b,"TripItSignUpBronxDetail_2",'<a  class="TripItSignInHelpLink" href=" ">plans@tripit.com</a>')+" </div>");c.push(q+OTFormatUserMessage(b,"TripItSignUpBronxDetail_3",'<a  class="TripItSignInHelpLink" href="http://www.tripit.com/press/tripit-video-1/" target="new">'+OTGetUserMessage(b,"TripItSignUpBronxDetail_5")+g)+'<a class = "TripItSignInHelpLink" href="http://www.tripit.com" target="new">TripIt.com</a> </div>');c.push(a)}else{c.push('<ul style="list-style:outside;list-style-type:disc;padding-left:10px;margin-left:10px;">');CNQR.IsBronx&&c.push(e+OTGetUserMessage(b,"TripItSignUpDetailNB_1")+m);d.showTravel&&c.push(e+OTGetUserMessage(b,"TripItSignUpDetailNB_2")+m);d.Pro=="Pro"&&c.push(e+OTGetUserMessage(b,"TripItSignUpDetailNB_3")+m);c.push(e+OTGetUserMessage(b,"TripItSignUpDetailNB_4")+m);c.push(e+OTGetUserMessage(b,"TripItSignUpDetailNB_5")+m);c.push("</ul>")}c.push(a);if(!CNQR.IsBronx){c.push('<div style="padding-top:4px;padding-bottom:4px;padding-left:4px;">');c.push('<a class="TripItSignInHelpLink" href="http://www.tripit.com/uhp/learnMore" target="new">'+OTGetUserMessage(b,"LearnMoreAboutTripIt")+g);c.push(a)}c.push("</div><hr>");c.push(a);c.push('<div id="tripItSignInBeforeForm" class="TripItSignSection">');c.push(n+OTGetUserMessage(b,"TripItSignInBeforeForm"+d.Pro)+a);c.push(a);c.push('<div id="tripItSignUpBeforeForm" class="TripItSignSection">');c.push(n+OTGetUserMessage(b,"TripItSignUpBeforeForm"+d.Pro)+a);c.push('<div class="TripItSignInFieldLabel" style="padding-left:15px;padding-top:20px;color:#155588;">'+OTGetUserMessage(b,Kb));c.push('<a class="TripItSignInHelpLink" href="#" onclick="gTripItSignIn.showSignIn();">'+OTGetUserMessage(b,v)+g);c.push(a);c.push(a);c.push('<div id="tripItSignInForm" style="padding-left:15px;" class="clearfix">');c.push(xb);c.push(J+OTGetUserMessage(b,yb)+a);c.push(l+OTGetUserMessage(b,zb)+a);c.push(f);c.push(OTFormatUserMessage(b,Ab,'<a href="http://www.tripit.com/account/forgotPassword" class="TripItSignInHelpLink TripItSignInSecondary" target="new">'+OTGetUserMessage(b,Bb)+g));c.push(a);c.push(a);c.push(Cb);c.push(J+OTGetUserMessage(b,Db)+a);c.push(l+OTGetUserMessage(b,Eb)+a);c.push(a);c.push(Fb);c.push(p+OTGetUserMessage(b,Gb)+a);c.push(l+OTGetUserMessage(b,Hb)+a);c.push(f+OTGetUserMessage(b,Ib)+a);c.push(a);c.push(M);c.push(p+OTGetUserMessage(b,L)+a);c.push(a);c.push(tb);c.push('<div><label for="tripItSignInLogin"><div id="TripItLoginFieldLabel" class="TripItSignInFieldLabel">'+OTGetUserMessage(b,ub)+I);c.push('<input id="tripItSignInLogin" type="text" style="margin-bottom: 5px;" class="TripItSignInput" onfocus="Element.addClassName(this, \'TripItSignInputFocused\')" onblur="Element.removeClassName(this, \'TripItSignInputFocused\')" />');c.push(a);c.push('<div><label for="tripItSignInPassword"><div class="TripItSignInFieldLabel">'+OTGetUserMessage(b,vb)+I);c.push('<input id="tripItSignInPassword" style="margin-bottom: 5px;" type="password" class="TripItSignInput" onfocus="Element.addClassName(this, \'TripItSignInputFocused\')" onblur="Element.removeClassName(this, \'TripItSignInputFocused\')" />');c.push(a);c.push('<div class="TripItSignInFieldLabel" style="width:220px;">'+OTGetUserMessage(b,wb)+a);c.push('<a tabIndex=-1 id="TripItSignInHelpLink" class="TripItSignInHelpLink" href="http://www.tripit.com/account/forgotPassword" target="new">'+OTGetUserMessage(b,A)+g);c.push(a);c.push('<div style="margin-bottom: 5px; padding-top:8px; display:none;" class="TripItSignInFieldLabel">');c.push(OTGetUserMessage(b,"DefaultMyConcurTripsAsPrivate")+"&nbsp;");c.push('<input type="radio" id="TripItSignInPrivate" name="TripItSignInConcurTripsRadionGroup" value="Private" /><label for="TripItSignInPrivate">'+OTGetUserMessage(i,"Yes")+w);c.push('&nbsp;&nbsp;<input type="radio" id="TripItSignInPublic" name="TripItSignInConcurTripsRadionGroup" checked value="Public" /><label for="TripItSignInPublic">'+OTGetUserMessage(i,"No")+w);c.push('&nbsp;<a class="TripItSignInHelpLink"  href="http://help.tripit.com/entries/91160-preventing-your-network-from-seeing-your-trip-summary" title="'+OTGetUserMessage(b,"PrivatePublicWatItIs")+'" target="new">'+OTGetUserMessage(b,"Whatisthis")+g);c.push('<div id="tripItSinUpPrefsRow" style="display:none" class="TripItSignInFieldLabel">');c.push('<input type="checkbox" id="TripItSignInOptEmail" checked="checked"><label for="TripItSignInOptEmail">'+OTGetUserMessage(b,"EmainMeTRipItUpdates")+w);c.push(a);c.push(a);c.push("<div>");c.push(j+o+'" id="tripItSignInBtn" onclick="gTripItSignIn.doSign();return false;">'+OTGetUserMessage(b,v)+h);c.push(j+N+'" onclick="otHidePopupDialog();return false;">'+OTGetUserMessage(i,"Cancel")+h);c.push(a);c.push(a);c.push('<div id="tripItSignInNotAUser" style="display:none">');c.push('<div class="TripItSignInFieldLabel" style="padding-top: 20px;">'+OTGetUserMessage(b,"NotYetTripItUserNoProblem"));c.push(Jb+OTGetUserMessage(b,Q)+g);c.push(a);c.push(a);c.push('<div id="tripItSignUpAlreadyHaveAccount" style="display:none">');c.push('<div class="TripItSignInLegalLabel" style="padding-top: 20px; font-size:9px">'+OTFormatUserMessage(b,Lb,"<a href='http://www.tripit.com/uhp/userAgreement' target='new'>"+OTGetUserMessage(b,Mb)+g)+"<br>");c.push(OTGetUserMessage(b,Nb));c.push('<a href = "#" style="text-decoration:none" title="" onclick="ShowWeDontSharePopup(this)">'+OTGetUserMessage(b,Ob)+Pb);c.push(a);c.push(a);c.push(a);return c.join(W)},getHTMLOpenBooking:function(){var c=[];c.push('<div class="popupdialogclose" style="padding:19px 19px 0 0"><div onclick="otHidePopupDialog();">&nbsp;</div></div>');c.push(pb);c.push('<div style="border-bottom: 1px solid #d8d8d8; padding-bottom:8px; ">');c.push('<img src="/images/tripit/ConcurLogo.png" width="135" height="40" alt="Concur" />');c.push(a);if(isGov=="True")c.push(S+OTGetUserMessage(b,"OpenBookingHeaderGov")+I);else c.push(S+OTGetUserMessage(b,"OpenBookingHeader")+I);c.push('<center><span id="tripItOpenProcessing" class="processing_icon" style="line-height:150px">&nbsp;</span></center>');c.push('<div id="tripItOpenBodyDiv">');c.push('<div class="TripItMain" id="tripItOpenVerifiedMain" style="padding:0;display:none;">');c.push(qb);c.push(t+OTGetUserMessage(b,"OpenBookingVerifiedInstruct")+q);c.push(a);c.push(sb);c.push('<ul class="TripItOpenEmailList" id="verifiedEmailList">');c.push("</ul>");c.push(a);c.push(a);c.push('<div class="TripItOpenBottom">');c.push('<div id="tripItOpenHasVerified" style="display:none">');c.push('<h3 style="margin-bottom:8px">'+OTGetUserMessage(b,"OpenBookingVerifiedSubHeader")+I);c.push(t+OTFormatUserMessage(b,"OpenBookingVerifiedSubText",'<a href="/profile/PersonalProfile.asp#EMailAddresses">',g)+q);c.push(a);c.push('<div id="tripItOpenNotVerified" style="display:none">');c.push(t+OTGetUserMessage(b,"OpenBookingUnverifiedTextA")+q);c.push(t+OTGetUserMessage(b,"OpenBookingUnverifiedTextB")+q);c.push('<button class="TripItOpenGetStartedBtn" onclick="document.location.href=\'/profile/PersonalProfile.asp#EMailAddresses\'">'+OTGetUserMessage(b,"OpenBookingGetStartedBtn")+h);c.push(a);c.push(a);c.push(a);c.push(a);return c.join(W)},getHTML:function(){return CNQR.IsBronx||!lc?this.getHTMLEx():this.getHTMLTripItPro()}}};function tiHideShow(c,b){var a=$(c);if(a)a.style.display=b}function tiDontShowThisAgain(a){var b="/javascript/service/dismissmessage.asp?name="+escape(a);new Ajax.Request(b);otHidePopupDialog()}function CheckForTripItPopUpKickOff(){var l="upgrade_to_tripitpro",k="check_tripit_verification",j="showTravel",b="y",i="showExpense",h="verificationEmail";for(var a,c,m,f,d,e,g=0;g<3;g++){a=$("kickoff_tripit_"+g);if(a){if(CNQR.ipmOverlaysPermitted){c=a.getAttribute(h);m=a.getAttribute("primaryEmail");f=a.getAttribute("isPro");d=a.getAttribute(i)==b;e=a.getAttribute(j)==b;showTripItSignUp(g,{verificationPendingEmail:c,primaryEmail:m,showInPopup:true,isPro:f==b,showExpense:d,showTravel:e})}return}}if($(k)){a=$(k);c=a.getAttribute(h);f=a.getAttribute("isPro");d=a.getAttribute(i)==b;e=a.getAttribute(j)==b;window.setTimeout(function(){checkTripItVerification({showSuccess:true,showErrors:false,verificationPendingEmail:c,isPro:f==b,showExpense:d,showTravel:e})},1e3)}if($(l)){a=$(l);c=a.getAttribute(h);toStatus=a.getAttribute("tostatsus");window.setTimeout(function(){upgrateToTripItPro({showSuccess:true,showErrors:false,verificationPendingEmail:c,toStatus:toStatus})},1e3)}}function restoreOrigDialog(){showTripItSignUp(gTripItSignIn.stepN,gTripItSignIn.options)}function ShowWeDontSharePopup(e){var d="<div style='padding-top: 15px;text-align:justify;'>",c="</div>",b="TravelPortal";otPopupDialogOrig=otPopupDialog;var a=[];a.push("<div style='padding:15px 15px 15px 5px'><div style='text-align:justify;'>"+OTGetUserMessage(b,"TripItEmailPrivacy1")+c);a.push(d+OTGetUserMessage(b,"TripItEmailPrivacy2")+c);a.push(d+OTGetUserMessage(b,"TripItEmailPrivacy3")+c);a.push(d+OTGetUserMessage(b,"TripItEmailPrivacy4")+c);a.push(c);CNQR.MessageBox.show(a.join("\n"),{attachElement:e,title:OTGetUserMessage(b,"TripItLegal2"),width:450,callOnClose:restoreOrigDialog})}addEvent(window,"load",CheckForTripItPopUpKickOff);

//FileName: /javascript/views/dash/dashboard-newsandnotes.js
if(window.jQuery&&$.cnqr&&$.cnqr.ready)$(function(){var a;(a=function(){var a="minimized",d=$(".newsandnotes");if(d.length==0)return;d=d[0];$("#cnote_display").show();var b=$(".newsandnotes .cnqr-inner:first"),c=$(".newsandnotes .show-more"),e;e=function(){var e=b[0].scrollHeight,d=b.height();if(e>d)c.show();else{c.hide();b.removeClass(a)}};var f;f=function(e){var d=".cnqr-inner";e.preventDefault();if(b.hasClass(a)){b.removeClass(a);c.children(d).html($.cnqr.getUserMessage("Shared","ReadLess"))}else{b.addClass(a);c.children(d).html($.cnqr.getUserMessage("Shared","ReadMore"))}$.event.trigger("sidebarResize.cnqr")};e();c.click(function(a){f(a)})})()});else addEvent(window,"load",function(){var a="minimized",d="hidden",i=".newsandnotes",e=$$(i);if(e.length==0)return;e=e[0];var p=/(<([^>]+)>)|[\r\n\xA0]|(\&([^\;]+)\;)/ig,h=false,n="",j=$("cnote_display"),o=$("cnote_hidden");if(o&&j){var f=o.value;if(f.replace(p,"").strip()!=""){h=true;n="<hr>";j.innerHTML=f;j.removeClassName(d)}}var m=$("expenseinfo_hidden"),g=$("expenseinfo_display");if(m&&g){var f=m.value;if(f.replace(p,"").strip()!=""){h=true;g.innerHTML=f+n;g.removeClassName(d)}}if(!h){e.addClassName("cnqr-hide");return}var c=$$(".newsandnotes .cnqr-inner:first")[0],b=$$(".newsandnotes .show-more")[0],k;k=function(){var f=c.scrollHeight,e=c.getHeight();if(f>e){b.removeClassName(d);$$(i)[0].nextSiblings()[0].addClassName("cnqr-under-readmore")}else{b.addClassName(d);c.removeClassName(a)}};var l;l=function(e){var d=".cnqr-inner";e.preventDefault();if(c.hasClassName(a)){c.removeClassName(a);b.childElements(d)[0].update(b.readAttribute("data-showlesstext"))}else{c.addClassName(a);b.childElements(d)[0].update(b.readAttribute("data-showmoretext"))}};k();b.observe("click",function(a){l(a)})});
