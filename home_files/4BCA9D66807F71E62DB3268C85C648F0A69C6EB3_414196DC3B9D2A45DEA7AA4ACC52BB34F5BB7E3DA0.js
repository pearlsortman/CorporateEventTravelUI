//Createdby: Minifier404
//Compiler: MSFT AjaxMin
//Generated: 2016-09-22 08:03:17
//FileList: /static/scripts/jsbundle-shared.js,/javascript/functions.js

//FileName: /static/scripts/jsbundle-shared.js
function addScript(b,c,e){if(typeof e!=="object")e={};var d=null;if(window.otCacheKilla)d=window.otCacheKilla;else if(window.$&&window.$.cnqr&&window.$.cnqr.config&&window.$.cnqr.config.otCacheKilla)d=window.$.cnqr.config.otCacheKilla;if(d){b+=b.indexOf("?")>=0?"&":"?";b+="cachekilla="+d}var g=document.getElementsByTagName("script");if(!window.debug_scripts)for(var f=0;f<g.length;f++)if(g[f].getAttribute("src")==b){c&&c.constructor==Function&&c();return}if(document.createElement&&document.childNodes){var a=document.createElement("script");if(c&&c.constructor==Function){a.onload=a.onreadystatechange=function(){if(a.readyState&&a.readyState!="loaded"&&a.readyState!="complete")return;a.onreadystatechange=a.onload=null;c()};a.onerror=function(){OTDebugWrite("Error loading javascript file: "+b);var c=a.onload;c&&c()}}if(typeof e.scriptAsync==="boolean")a.async=e.scriptAsync;a.setAttribute("src",b);a.setAttribute("type","text/javascript");document.getElementsByTagName("head")[0].appendChild(a)}else document.write('<script type="text/javascript" src="'+b+'"><\/script>')}function addAllScripts(d,c,h){var b=[];if(d.constructor==Array)for(var a=0,f=d.length;a<f;++a)b.push({src:d[a],completed:false});else{var g=/<script[^>]*\ssrc=['\"]([^'\"]*?)['\"][^\>]*\/?\>/img;while((myArray=g.exec(d))!=undefined)b.push({src:myArray[1],completed:false})}var e=function(b,d){var a=b,e=d;return function(){a[e].completed=true;if(c){for(var b=0;b<a.length;b++)if(!a[b].completed)return;c()}}};if(b.length>0){for(var a=0;a<b.length;a++)addScript(b[a].src,e(b,a),h);return}c&&c.constructor==Function&&c()};

//FileName: /javascript/functions.js
var mywindow="",mywindowclosed=true,currencyDigits={BHD:3,BIF:0,BYR:0,CLP:0,DJF:0,GNF:0,IQD:3,ISK:0,JOD:3,JPY:0,KMF:0,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,TRL:0,UGX:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0},currencySymbols={USD:"$",EUR:"&euro;",GBP:"&pound;",JPY:"&yen;"},currencySymbolsUnescaped={USD:String.fromCharCode(36),EUR:String.fromCharCode(8364),GBP:String.fromCharCode(163),JPY:String.fromCharCode(165)},thouSep,decSep;if(!window.CNQR)window.CNQR={};if(!window.CNQR.menu)window.CNQR.menu={};window.CQJSerrors={};addEvent(window,"load",function(){var c="function",b=false,a=true;if(window.$$&&document.observe){addEvent(window,"resize",function(){CNQR.Tour&&CNQR.Tour.currentTip&&CNQR.Tour.currentTip.resetPosition();if(CNQR.Dialog&&CNQR.Dialog.elementArray){if(CNQR.Dialog.elementArray.length<1)return;clearTimeout(CNQR.Dialog.endResize);CNQR.Dialog.endResize=setTimeout(function(){for(var b=CNQR.Dialog.elementArray,a=0,c=b.length;a<c;a++)b[a].element.isShown&&b[a].element.setElement()},200)}});var d={tooltip:function(d,b,c,e){if(b&&b.toggle&&b.toggle.toLowerCase()==="tooltip")if(e&&d.hasAttribute("onclick")){d.click();c.preventDefault&&c.preventDefault()}else if(b.content){var f=function(a){if(typeof a==="object")return a;if(typeof a==="string")try{return JSON.parse(a)}catch(b){return{}}}(b.options);otShowPopupHelp(b.content,d,Object.extend({width:300,showClose:a},f));c.preventDefault&&c.preventDefault()}},popupWindow:function(c,a,b){if(a&&a.toggle&&a.toggle.toLowerCase()==="popupwindow"&&a.url){popupWindow(a.url,a.name,a.height,a.width,a.options);b.preventDefault&&b.preventDefault()}},popOver:function(h,d,f){var c;if(CNQR.Dialog&&CNQR.Dialog.elementArray&&CNQR.Dialog.elementArray.length>0){c=CNQR.Dialog.elementArray;for(var e=0,i=c.length;e<i;e++)c[e].element&&c[e].element.isShown&&c[e].closeOnBlur&&c[e].element.parentElement!=f.target&&c[e].element.element!=f.target&&!f.target.descendantOf(c[e].element.element.id)&&c[e].element.close()}var g=function(e,c){var d=CNQR.Dialog.create({parentElement:e,toggle:c.toggle,placement:c.placement,content:c.content,title:c.title,showCloseButton:c.showclosebutton,titleIsAccessibleOnly:c.titleisaccessibleonly,closeText:c.closetext,overrideClass:c.overrideclass,showArrow:c.showarrow,type:c.type,width:c.width,height:c.height,doNotFlip:c.donotflip,id:c.id,zIndex:c.zindex});if(!d.error){if(d.exists)d=CNQR.Dialog.findElement(e);else{d.setHtml();CNQR.Dialog.elementArray.push({element:d,closeOnBlur:c.closeonblur&&c.closeonblur.toLowerCase()=="false"?b:a})}if(!d)return;d.setElement();d.toggle()}};if(d&&d.toggle&&d.toggle.toLowerCase()==="popover"){if(d.url)new Ajax.Request(d.url,{method:"get",onSuccess:function(a){d.content=a.responseText;g(h,d,f)}});else d.content&&g(h,d,f);f.preventDefault&&f.preventDefault()}},tourTip:function(c,a,b){if(a&&a.toggle&&a.toggle.toLowerCase()==="tourtip"){CNQR.Tour.showTip(a);b.preventDefault&&b.preventDefault()}}};document.observe("click",function(a){a=a||window.event;var e=$(a.target),f=function(){var b=typeof e.data===c?e.data():{};if((!b||!b.toggle)&&(a.findElement&&a.element().ancestors)){var d=a.findElement("[data-toggle]");if(d&&typeof e.data===c)b=d.data()}return b}();if(a.findElement&&a.element().ancestors&&a.findElement("a[href*='javascript:void(0)']")){a.preventDefault&&a.preventDefault();if(a.returnValue)a.returnValue=b}d.popupWindow(e,f,a);d.popOver(e,f,a);d.tooltip(e,f,a);d.tourTip(e,f,a)});var e=[];document.observe("keydown",function(f){f=f||window.event;e.length>10&&e.shift();e.push(f.keyCode);if(e.toString().indexOf("38,38,40,40,37,39,37,39,66,65")>=0)document.location.href="/errors/err2.asp";switch(f.keyCode){case Event.KEY_RETURN:case Event.KEY_SPACE:case Event.KEY_LEFT:case Event.KEY_UP:case Event.KEY_RIGHT:case Event.KEY_DOWN:case Event.KEY_HOME:case Event.KEY_END:var n=a}if(!n)return;var g=$(f.target),l=typeof g.data===c?g.data():{},m=function(){var a=g.readAttribute("role");return a?a.toLowerCase():""}(),o=m==="button",j=m==="tab",k=a,i=function(c,a){if(k)a=a===c.siblings().length?0:a;else a=a===0?c.siblings().length-1:a-1;var f=c.siblings(),d=f[a],e,b;if(d){e=d.readAttribute("aria-labelledby");b=$(e);if(b){d.focus();b.click()}}};switch(f.keyCode){case Event.KEY_RETURN:case Event.KEY_SPACE:if(o){g.click();f.preventDefault&&f.preventDefault()}else{d.popupWindow(g,l,f);d.popOver(g,l,f);d.tooltip(g,l,f,a)}break;case Event.KEY_LEFT:case Event.KEY_UP:if(j){var h=g.previousSiblings().length;k=b;i(g,h);f.preventDefault&&f.preventDefault()}break;case Event.KEY_RIGHT:case Event.KEY_DOWN:if(j){var h=g.previousSiblings().length;i(g,h);f.preventDefault&&f.preventDefault()}break;case Event.KEY_HOME:if(j){var h=g.previousSiblings().length;if(h!==0){i(g,g.siblings().length);f.preventDefault&&f.preventDefault()}}break;case Event.KEY_END:if(j){var h=g.previousSiblings().length;if(h!==g.siblings().length){k=b;i(g,0);f.preventDefault&&f.preventDefault()}}}})}});function $(){for(var c=[],b=0;b<arguments.length;b++){var a=arguments[b];if(typeof a=="string")a=document.getElementById(a);if(arguments.length==1)return a;c.push(a)}return c}function checkFocus(){if(mywindow==null||typeof mywindow=="undefined")return;try{!mywindow.closed&&!mywindowclosed&&mywindow.focus()}catch(a){}}function otTrim(b){var a=b;a=a.replace(/^\s*/,"");a=a.replace(/\s*$/,"");return a}otFormatNameLocalized=function(b,e,d,f){if(!f)if(b==null||b=="")return"";var a=[];a._dict=true;a.LN=otHtmlEncode(b);a.FN=otHtmlEncode(e);a.MI=d&&d!==""?otHtmlEncode(d)+".":null;var c=otTrim(OTFormatUserMessage("Common","DisplayNameLocalized",a));c=c.replace(/\s+/i," ");return c};otFormatShortNameLocalized=function(d,c){var a=[];a._dict=true;a.LN=otHtmlEncode(d);a.FN=otHtmlEncode(c);var b=otTrim(OTFormatUserMessage("Common","DisplayShortNameLocalized",a));b=b.replace(/\s+/i," ");return b};otFormatNameFirstLastLocalized=function(e,a,c,d){if(!d)if(a==null||a=="")return"";var b=otTrim(OTFormatUserMessage("Common","DisplayFullNameLocalized",otHtmlEncode(e),otHtmlEncode(a),c&&c!==""?otHtmlEncode(c)+".":null));b=b.replace(/\s+/i," ");return b};function isAlphabetic(a,b){if(a.search)if(b&&a.search(/[^a-zA-Z\s]/)!=-1||!b&&a.search(/[^a-zA-Z]/)!=-1)return false;return true}function hasOnlyDigits(a){if(a.search)if(otTrim(a).search(/[^0-9\s]/)!=-1)return false;return true}function JSPadOut(a){if(a<10)a="0"+a;return a}function setDDIndexByValue(b,c){for(var a=0;a<b.length;a++)if(b.options[a].value==c){b.selectedIndex=a;break}}function setDDIndexByText(b,c){for(var a=0;a<b.length;a++)if(b.options[a].text==c){b.selectedIndex=a;break}}function setDDIndexToDefault(b){for(var a=0;a<b.length;a++)if(b.options[a].defaultSelected){b.selectedIndex=a;break}}var g_ppw_URL="",g_ppw_Name="",g_ppw_Parms="",g_ppw_windowHandleName,g_ppw_pleaseWaitPageURL="/common/processing_holder.asp";function testPopupWindow(c){var d=new RegExp("object","gi"),a=true,b=d.test(String(c));if(b){try{a=c.closed}catch(e){a=true}if(a)b=false}return b}function makePopupBlockerDiv(){var b="div_popupblockerfound",f="400",e="200",c=document.getElementById(b);if(c){c.style.display="block";c.style.left=(document.body.clientWidth-f)/2;c.style.top=(document.body.clientHeight-e)/2-50}else{var d="<p>"+OTGetUserMessage("SmallJs","PopupBlocker1")+"<p/>";d+="<p>"+OTGetUserMessage("SmallJs","PopupBlocker2")+"<br/>";d+="<ul><li>http://"+document.location.host+"</li></ul></p>";d+='<p style="text-align:center;"><input type="button" onclick="redoPopupWindow()" value="OK" name="ot_pblocker"></p>';var a=document.createElement("div");a.setAttribute("id",b);a.setAttribute("tabindex","-1");a.setAttribute("aria-live","assertive");a.style.position="absolute";a.style.width=f+"px";a.style.height=e+"px";a.style.padding="10px";a.style.border="double red";a.style.backgroundColor="white";a.style.textAlign="left";a.style.fontFamily="arial";a.style.fontSize="9pt";a.style.zIndex="9997";a.innerHTML=d;a.style.left=(document.body.clientWidth-f)/2;a.style.top=(document.body.clientHeight-e)/2-50;document.body.appendChild(a)}window.setTimeout(function(){$(b).focus();$(b).innerHTML=$(b).innerHTML},200)}function popupWindow(b,d,f,e,a){b=b.replace(/\+/g,"%2B");var g=(screen.width-f)/2,h=(screen.height-e)/2,c;if(typeof a!="undefined"&&a!="yes"&&a!="no")c=a;else c="scrollbars=1,resizable=1";winprops="height="+e+",width="+f+",top="+h+",left="+g+","+c;g_ppw_URL=b;g_ppw_Name=d;g_ppw_Parms=winprops;g_ppw_windowHandleName="mywindow";try{mywindow=window.open(b,d,winprops)}catch(i){}mywindowclosed=false}function redoPopupWindow(){if(g_ppw_URL!=""){var ppw_NewWindow=window.open(g_ppw_URL,g_ppw_Name,g_ppw_Parms);if(g_ppw_windowHandleName!=null&&g_ppw_windowHandleName!="")eval(g_ppw_windowHandleName+" = ppw_NewWindow");g_ppw_URL="";g_ppw_Name="";g_ppw_Parms="";g_ppw_windowHandleName=""}var popupblockerfound=document.getElementById("div_popupblockerfound");popupblockerfound.style.display="none"}function test_popupBlocker(){typeof g_ppw_windowHandleName!="string"&&alert("DEVELOPER -- PLEASE USE A STRING FOR g_ppw_windowHandleName.\n e.g. g_ppw_windowHandleName = 'mywindow'  ");var ppw_NewWindow=g_ppw_windowHandleName==""?null:eval(g_ppw_windowHandleName);(ppw_NewWindow==null||typeof ppw_NewWindow=="undefined"||ppw_NewWindow.closed==true)&&makePopupBlockerDiv()}function getSelectedVal(a){return!a?void 0:a.options[a.options.selectedIndex].value}function getMultiSelectValuesArray(b){function a(a){return a.selected}return $A(b.options).findAll(a).pluck("value")}function getMultiSelectValuesList(b){var a="";$A(b.options).each(function(b){if(b.selected){if(a=="")a+=",";a+=b.value+","}});return a}function getRadioVal(a){if(!a)return;if(a.length){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value}else return a.value}function setRadioVal(a,c){if(!a)return;if(a.length){for(var b=0;b<a.length;b++)if(a[b].value==c){!a[b].checked&&a[b].click();break}}else{a.checked=true;return a.checked}}function GetNumberSeparators(a){if(a)a=a.toString();switch(a){case"0":thouSep=",";decSep=".";break;case"1":thouSep=".";decSep=",";break;case"2":thouSep=" ";decSep=",";break;case"3":thouSep="'";decSep=".";break;case"4":thouSep="'";decSep=",";break;default:thouSep=",";decSep="."}}function JS_FormatNumber(a,d,h){if(!h)h=window.userNumberPreference||0;GetNumberSeparators(h);a=parseFloat(a);d=parseInt(d,10);if(isNaN(a))a=0;var j=false;if(a<0){a=-1*a;j=true}var l=false,n=a.toString(),m=n.indexOf(".");if(m>-1){var i=n.substr(m+1,d+1);if(i.length==d+1)if(i.substr(i.length-1,1)=="5")l=true}var e;if(l==true)e=""+Math.round(a*Math.pow(10,d)+.01);else e=""+Math.round(a*Math.pow(10,d));while(e.length<=d)e="0"+e;var k=e.length-d,b,f=e.substring(0,k),c=0,g=3;b=f.substring(c,f.length%g);c=c+f.length%g;while(c<f.length){if(c>0)b=b+thouSep;b=b+f.substring(c,c+g);c=c+g}if(d>0)b+=decSep+e.substring(k,e.length);if(j)b="-"+b;return b}function JS_UnformatNumber(c,h){var f="CheckIfValidNumber",d="SmallJs";GetNumberSeparators(h);var a=new RegExp("\\"+decSep,"g");c=c.replace(a,".");a.compile("\\"+thouSep,"g");var i=c.replace(a,"");if(isNaN(i)){alert(OTGetUserMessage(d,f));return false}var b=c.split(".");if(b.length==2&&b[1]!=""){a.compile("[^\\d]");if(a.test(b[1])){alert(OTGetUserMessage(d,f));return false}}if(b[0].indexOf(thouSep)>=0)for(var g=b[0].split(thouSep),e=1;e<g.length;e++)if(g[e].length!=3){alert(OTGetUserMessage(d,"CheckPlacementThouSeparator"));return false}a.compile("\\"+thouSep,"g");return c.replace(a,"")}function JS_FormatMoney(d,c,a,b){if(isNaN(b))b=currencyDigits[a]==null?2:currencyDigits[a];return a==null?JS_FormatNumber(d,b,c):typeof a!="undefined"&&a!="USD"?a+JS_FormatNumber(d,b,c):"$"+JS_FormatNumber(d,b,c)}function JS_FormatMoney2(c,b,a){if(a==null)a=window.userNumberPreference||0;return JS_FormatMoney(c,a,b)}function JS_UnformatMoney(a,d,b){a=a.replace(/\$/g,"");if(typeof b!="undefined"){var c;if(b.length==3)c=new RegExp(b,"g");else c=new RegExp("\\"+b,"g");a=a.replace(c,"")}return JS_UnformatNumber(a,d)}CNQR.getMoneyDecimalDigits=function(a){return window.currencyDigits&&window.currencyDigits[a]!=null?window.currencyDigits[a]:2};CNQR.getDecimalSeparator=function(a){GetNumberSeparators(a);return decSep};CNQR.formatMoney=function(h,a,g,f,d){if(isNaN(d))d=window.currencyDigits&&window.currencyDigits[a]!=null?window.currencyDigits[a]:2;var b=CNQR.formatNumber(h,d,g,window.negativeCurrencyFormat);if(typeof a!="undefined"&&a!=null){var c=(f?window.currencySymbolsUnescaped[a]:window.currencySymbols[a])||a;if(a!=window.defaultEmpCurrencyCode&&a!="EUR")c=a;var e=c.length==3?" ":"";if(window.currencySymbolLocation)b=b+e+c;else b=c+e+b}return b};CNQR.formatMoneyWithoutSymbol=function(c,a,f,d,e){if((isNaN(c)||c==null)&&d)return"";var g=window.currencyDigits&&window.currencyDigits[a]!=null?window.currencyDigits[a]:2,b=CNQR.formatNumber(c,g,f,window.negativeCurrencyFormat);if(!e&&typeof a!="undefined"&&a!=null)b=b+" "+a;return b};CNQR.formatNumber=function(b,e,f,g){var j="undefined";if(typeof f==j||f==null)f=window.userNumberPreference||0;if(typeof g==j||g==null)g=window.negativeNumberFormat||0;GetNumberSeparators(f);if(isNaN(b)||b==null)b=0;var k=false;if(b<0){b=-1*b;k=true}var m=false,o=b.toString(),n=o.indexOf(".");if(n>-1){var i=o.substr(n+1,e+1);if(i.length==e+1)if(i.substr(i.length-1,1)=="5")m=true}var a;if(m==true)a=""+Math.round(b*Math.pow(10,e)+.01);else a=""+Math.round(b*Math.pow(10,e));while(a.length<=e)a="0"+a;var l=a.length-e,c=a.substring(0,l),h="",d=c;while(d.length>3){h=thouSep+d.substring(d.length-3,d.length)+h;d=d.substring(0,d.length-3)}c=d+h;if(e>0)c+=decSep+a.substring(l,a.length);if(k)if(window.negativeNumberFormat)c="("+c+")";else c="-"+c;return c};CNQR.unFormatNumber=function(a){var c=null;if(a==c)return c;if(typeof a=="undefined")return c;if(typeof a!="string")a=a.toString();a=otTrim(a);if(a=="")return"";GetNumberSeparators(window.userNumberPreference||0);isNegative=false;if(a.indexOf("(")==0||a.indexOf("-")==0){isNegative=true;var f=new RegExp("\\(|\\)|\\-","g");a=a.replace(f,"")}var b,d,e=a.indexOf(decSep);if(e==-1){b=a;d="0"}else{d=a.substr(e+1);b=a.substring(0,e)}var g=new RegExp("\\"+thouSep,"g");b=b.replace(g,"");if(b.length==0)b="0";if(d!="0")b=b+"."+d;return isNaN(b)?c:isNegative==false?parseFloat(b):-1*parseFloat(b)};function populateDDWithArray(d,a,e){var f=d.length;a.options.length=0;for(var b=0;b<f;b++){var c=new Option;c.value=b;c.text=d[b];a.options[a.options.length]=c;if(e==b)a.options[a.options.length-1].selected=true}}function otHasOwnProperty(a,b){return a.hasOwnProperty?a.hasOwnProperty(b):a[b]!=Array.prototype[b]}function populateDDWithCollection(c,a,e){var b;a.length=0;for(b in c)if(otHasOwnProperty(c,b)){var d=new Option;d.value=b;d.text=c[b];a.options[a.options.length]=d;if(e==b)a.options[a.options.length-1].selected=true}}function populateDDWith2dArray(b,c,f,e){var a;b.length=0;for(a in c)if(otHasOwnProperty(c,a)&&f==c[a][0]){var d=new Option;d.value=a;d.text=c[a][1];b.options[b.options.length]=d;if(e==a)b.options[b.options.length-1].selected=true}}function populateDDWith3dArray(c,b,f,e){var a;c.length=0;for(a in b)if(otHasOwnProperty(b,a)&&f==b[a][0]){var d=new Option;d.value=b[a][2];d.text=b[a][1];c.options[c.options.length]=d;if(e==a)c.options[c.options.length-1].selected=true}}function imgPreload(){for(var b=[],a=0;a<arguments.length;a++){b[a]=new Image;b[a].src=arguments[a]}}function intValueFromStyle(a){return parseInt(a.replace("px",""),10)}function addEvent(a,b,c,d){if(window.Event&&Event.observe)return Event.observe(a,b,c,d);if(b=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||a.attachEvent))b="keydown";if(a.addEventListener){a.addEventListener(b,c,d);return true}else if(a.attachEvent)return a.attachEvent("on"+b,c);else alert("Handler could not be attached")}function removeEvent(a,b,c,d){window.Event&&Event.stopObserving&&Event.stopObserving(a,b,c,d);if(b=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||a.detachEvent))b="keydown";if(a.removeEventListener){a.removeEventListener(b,c,d);return true}else if(a.detachEvent)return a.detachEvent("on"+b,c);else alert("Handler could not be removed")}function getEventTarget(b){var a;b=b||window.event;if(b.target)a=b.target;else if(b.srcElement)a=b.srcElement;if(a.nodeType==3)a=a.parentNode;return a}function loadAgentTool(b){if(!document.getElementById){alert(OTGetUserMessage("SmallJs","RequiresRealBrowser"));return false}var d=window.screen.availWidth,c=window.screen.availHeight,a=250,e=c,f=d-(a+20),g=b.indexOf("AgentTool-XA")!=-1?"AgentToolXA":"AgentToolOpenAgent";window.open(b,g,"width="+a+",height="+e+",top=0,left="+f+",scrollbars=0,resizable=1,history=0")}function exists(a){return typeof a!="undefined"?true:false}function isEven(a){return a%2?false:true}function isSelectDirty(a){var f=false;if(a.type=="select-one"){for(var e=0,d=0,b=0;b<a.options.length;b++){if(a.options[b].selected)e=b;if(a.options[b].defaultSelected)d=b}if(e!=d){f&&alert(a.type+": "+a.name+" has changed\n it was:\n"+d+"\n but it's now:\n "+e);return true}}if(a.type=="select-multiple")for(var c=0;c<a.options.length;c++)if(a.options[c].defaultSelected!=a.options[c].selected){f&&alert(a.type+": "+a.name+" has changed!");return true}return false}function IsFormDirty(n){var l="\n but it's now:\n ",f=true;for(var d=false,g=false,b=n.elements,c=0,a=0;a<b.length;a++)if(!b[a].disabled&&!b[a].hidden&&!b[a].readOnly){if(b[a].type=="checkbox"&&b[a].checked!=b[a].defaultChecked){g&&alert(b[a].type+": "+b[a].name+" has changed!\n it was:"+b[a].defaultChecked+",\n but it's now "+b[a].checked);d=f;c=c+1}if((b[a].type=="text"||b[a].type=="textarea")&&b[a].value!=b[a].defaultValue){g&&alert(b[a].type+": "+b[a].name+" has changed!\n it was:\n"+b[a].defaultValue+l+b[a].value);d=f;c=c+1}if(b[a].type=="select-one"||b[a].type=="select-multiple")if(isSelectDirty(b[a])){d=f;c++}if(b[a].type=="radio")for(var m=0;m<b[a].length;m++){for(var j="",i="",e=0;e<b[a].options.length;e++){if(b[a].options[e].checked)j=b[a].options[e].value;if(b[a].options[e].defaultChecked)i=b[a].options[e].value}if(j!=i){g&&alert(b[a].type+": "+b[a].name+" has changed\n it was:\n"+i+l+j);d=f;c=c+1}}if(b[a].type=="hidden"&&b[a].className=="orderChangePlaceholder")for(var k=document.getElementById(b[a].value),h=0;h<k.childNodes.length;h++)if(k.childNodes[h].getAttribute("originalOrder")!=h+1)d=f}d&&g&&alert(c+" dirty fields.");return d}function LeavePageIfDirty(a){var b=OTGetUserMessage("SmallJs","ChangedFormDataWillBeLost");if(IsFormDirty(a))event.returnValue=b}function LeavePageIfDirtyWithEvent(b,a){var c=OTGetUserMessage("SmallJs","ChangedFormDataWillBeLost");if(IsFormDirty(a))b.returnValue=c}function enterPressed(a){a=a?a:event;var b=a.charCode?a.charCode:a.which?a.which:a.keyCode;return b==13||b==3?true:false}function showHideRelatedContent(c,b,a){if(c==b)document.getElementById(a).style.visibility="visible";else document.getElementById(a).style.visibility="hidden"}function resetFocus508(){$$(".pageReLoad508").each(function(b,d){if(d==0){var a="";a+='<input type="hidden" id="focusAfterPageReLoadTo508"';a+=' value="'+CNQR.reloadFocus508Element+'"';a+=' name="focusAfterPageReLoadTo508" />';$(b).insert({after:a})}var c=$(b).readAttribute("onclick");$(b).removeAttribute("onclick");$(b).observe("click",function(){focusReLoad508(this.id);eval(c)})});setTimeout(function(){var a="focusAfterPageReLoadTo508";$(a).value!=""&&$($(a).value).focus()},100)}function focusReLoad508(a){$("focusAfterPageReLoadTo508").value=a}function OTDebugWrite(c){var b="DEBUGDIVXXXYYYZZZ";if(CNQR.ProdStatus=="dev")try{console.log(c)}catch(e){var a=document.getElementById(b);if(a==null){a=document.createElement("div");a.setAttribute("id",b);a.className="OTDEBUG";a=document.body.insertBefore(a,document.body.firstChild);a.defaultHTML='<b>DEBUG WINDOW</b>&nbsp;<a href="javascript:void(0);" style="color:white;" onclick="$(\'DEBUGDIVXXXYYYZZZ\').innerHTML = $(\'DEBUGDIVXXXYYYZZZ\').defaultHTML;">Clear Result</a><br/>';a.innerHTML=a.defaultHTML;a.ondblclick=function(){a.style.display="none"}}var d=document.createElement("p");d.innerHTML=c;a.appendChild(d);a.style.display="";a.scrollTop=a.scrollHeight}}if(!window.console)window.console={log:OTDebugWrite};function IsValueProtected(b){var a=b.toString().substring(0,1);return a=="n"||a=="o"||a=="a"||a=="g"?true:false}Function.prototype.bind=function(b){var a=this;return function(){return a.apply(b,arguments)}};Function.prototype.bindAsEventListener=function(b){var a=this;return function(c){return a.call(b,c||window.event)}};String.format=function(b){var a=Array.prototype.slice.call(arguments,1);return b.replace(/\{(\d)\}/g,function(){return a[arguments[1]]})};Object.extend=function(c,b){var a;for(a in b)if(b.hasOwnProperty(a))c[a]=b[a];return c};function stopEvent(a){if(a.preventDefault){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true}}function otHtmlEncode(a){if(a==null||a==="")return"";a=a.toString();a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");a=a.replace(/"/g,"&quot;");a=a.replace(/'/g,"&#39;");return a}function otJSEncode(a){if(a==null||a==="")return"";a=a.toString();a=a.replace(/\\/g,"\\\\");a=a.replace(/'/g,"\\u0027");a=a.replace(/"/g,"\\u0022");a=a.replace(/\r/g,"\\r");a=a.replace(/\n/g,"\\n");return a}function otHtmlDecode(str){var out="";if(str==null)return;for(var l=str.length,i=0;i<l;i++){var ch=str.charAt(i);if(ch=="&"){var semicolonIndex=str.indexOf(";",i+1);if(semicolonIndex>0){var entity=str.substring(i+1,semicolonIndex);if(entity.length>1&&entity.charAt(0)=="#")if(entity.charAt(1)=="x"||entity.charAt(1)=="X")ch=String.fromCharCode(eval("0"+entity.substring(1)));else ch=String.fromCharCode(eval(entity.substring(1)));else switch(entity){case"quot":ch=String.fromCharCode(34);break;case"amp":ch=String.fromCharCode(38);break;case"lt":ch=String.fromCharCode(60);break;case"gt":ch=String.fromCharCode(62);break;case"nbsp":ch=String.fromCharCode(160);break;case"iexcl":ch=String.fromCharCode(161);break;case"cent":ch=String.fromCharCode(162);break;case"pound":ch=String.fromCharCode(163);break;case"curren":ch=String.fromCharCode(164);break;case"yen":ch=String.fromCharCode(165);break;case"brvbar":ch=String.fromCharCode(166);break;case"sect":ch=String.fromCharCode(167);break;case"uml":ch=String.fromCharCode(168);break;case"copy":ch=String.fromCharCode(169);break;case"ordf":ch=String.fromCharCode(170);break;case"laquo":ch=String.fromCharCode(171);break;case"not":ch=String.fromCharCode(172);break;case"shy":ch=String.fromCharCode(173);break;case"reg":ch=String.fromCharCode(174);break;case"macr":ch=String.fromCharCode(175);break;case"deg":ch=String.fromCharCode(176);break;case"plusmn":ch=String.fromCharCode(177);break;case"sup2":ch=String.fromCharCode(178);break;case"sup3":ch=String.fromCharCode(179);break;case"acute":ch=String.fromCharCode(180);break;case"micro":ch=String.fromCharCode(181);break;case"para":ch=String.fromCharCode(182);break;case"middot":ch=String.fromCharCode(183);break;case"cedil":ch=String.fromCharCode(184);break;case"sup1":ch=String.fromCharCode(185);break;case"ordm":ch=String.fromCharCode(186);break;case"raquo":ch=String.fromCharCode(187);break;case"frac14":ch=String.fromCharCode(188);break;case"frac12":ch=String.fromCharCode(189);break;case"frac34":ch=String.fromCharCode(190);break;case"iquest":ch=String.fromCharCode(191);break;case"Agrave":ch=String.fromCharCode(192);break;case"Aacute":ch=String.fromCharCode(193);break;case"Acirc":ch=String.fromCharCode(194);break;case"Atilde":ch=String.fromCharCode(195);break;case"Auml":ch=String.fromCharCode(196);break;case"Aring":ch=String.fromCharCode(197);break;case"AElig":ch=String.fromCharCode(198);break;case"Ccedil":ch=String.fromCharCode(199);break;case"Egrave":ch=String.fromCharCode(200);break;case"Eacute":ch=String.fromCharCode(201);break;case"Ecirc":ch=String.fromCharCode(202);break;case"Euml":ch=String.fromCharCode(203);break;case"Igrave":ch=String.fromCharCode(204);break;case"Iacute":ch=String.fromCharCode(205);break;case"Icirc":ch=String.fromCharCode(206);break;case"Iuml":ch=String.fromCharCode(207);break;case"ETH":ch=String.fromCharCode(208);break;case"Ntilde":ch=String.fromCharCode(209);break;case"Ograve":ch=String.fromCharCode(210);break;case"Oacute":ch=String.fromCharCode(211);break;case"Ocirc":ch=String.fromCharCode(212);break;case"Otilde":ch=String.fromCharCode(213);break;case"Ouml":ch=String.fromCharCode(214);break;case"times":ch=String.fromCharCode(215);break;case"Oslash":ch=String.fromCharCode(216);break;case"Ugrave":ch=String.fromCharCode(217);break;case"Uacute":ch=String.fromCharCode(218);break;case"Ucirc":ch=String.fromCharCode(219);break;case"Uuml":ch=String.fromCharCode(220);break;case"Yacute":ch=String.fromCharCode(221);break;case"THORN":ch=String.fromCharCode(222);break;case"szlig":ch=String.fromCharCode(223);break;case"agrave":ch=String.fromCharCode(224);break;case"aacute":ch=String.fromCharCode(225);break;case"acirc":ch=String.fromCharCode(226);break;case"atilde":ch=String.fromCharCode(227);break;case"auml":ch=String.fromCharCode(228);break;case"aring":ch=String.fromCharCode(229);break;case"aelig":ch=String.fromCharCode(230);break;case"ccedil":ch=String.fromCharCode(231);break;case"egrave":ch=String.fromCharCode(232);break;case"eacute":ch=String.fromCharCode(233);break;case"ecirc":ch=String.fromCharCode(234);break;case"euml":ch=String.fromCharCode(235);break;case"igrave":ch=String.fromCharCode(236);break;case"iacute":ch=String.fromCharCode(237);break;case"icirc":ch=String.fromCharCode(238);break;case"iuml":ch=String.fromCharCode(239);break;case"eth":ch=String.fromCharCode(240);break;case"ntilde":ch=String.fromCharCode(241);break;case"ograve":ch=String.fromCharCode(242);break;case"oacute":ch=String.fromCharCode(243);break;case"ocirc":ch=String.fromCharCode(244);break;case"otilde":ch=String.fromCharCode(245);break;case"ouml":ch=String.fromCharCode(246);break;case"divide":ch=String.fromCharCode(247);break;case"oslash":ch=String.fromCharCode(248);break;case"ugrave":ch=String.fromCharCode(249);break;case"uacute":ch=String.fromCharCode(250);break;case"ucirc":ch=String.fromCharCode(251);break;case"uuml":ch=String.fromCharCode(252);break;case"yacute":ch=String.fromCharCode(253);break;case"thorn":ch=String.fromCharCode(254);break;case"yuml":ch=String.fromCharCode(255);break;case"OElig":ch=String.fromCharCode(338);break;case"oelig":ch=String.fromCharCode(339);break;case"Scaron":ch=String.fromCharCode(352);break;case"scaron":ch=String.fromCharCode(353);break;case"Yuml":ch=String.fromCharCode(376);break;case"fnof":ch=String.fromCharCode(402);break;case"circ":ch=String.fromCharCode(710);break;case"tilde":ch=String.fromCharCode(732);break;case"Alpha":ch=String.fromCharCode(913);break;case"Beta":ch=String.fromCharCode(914);break;case"Gamma":ch=String.fromCharCode(915);break;case"Delta":ch=String.fromCharCode(916);break;case"Epsilon":ch=String.fromCharCode(917);break;case"Zeta":ch=String.fromCharCode(918);break;case"Eta":ch=String.fromCharCode(919);break;case"Theta":ch=String.fromCharCode(920);break;case"Iota":ch=String.fromCharCode(921);break;case"Kappa":ch=String.fromCharCode(922);break;case"Lambda":ch=String.fromCharCode(923);break;case"Mu":ch=String.fromCharCode(924);break;case"Nu":ch=String.fromCharCode(925);break;case"Xi":ch=String.fromCharCode(926);break;case"Omicron":ch=String.fromCharCode(927);break;case"Pi":ch=String.fromCharCode(928);break;case" Rho ":ch=String.fromCharCode(929);break;case"Sigma":ch=String.fromCharCode(931);break;case"Tau":ch=String.fromCharCode(932);break;case"Upsilon":ch=String.fromCharCode(933);break;case"Phi":ch=String.fromCharCode(934);break;case"Chi":ch=String.fromCharCode(935);break;case"Psi":ch=String.fromCharCode(936);break;case"Omega":ch=String.fromCharCode(937);break;case"alpha":ch=String.fromCharCode(945);break;case"beta":ch=String.fromCharCode(946);break;case"gamma":ch=String.fromCharCode(947);break;case"delta":ch=String.fromCharCode(948);break;case"epsilon":ch=String.fromCharCode(949);break;case"zeta":ch=String.fromCharCode(950);break;case"eta":ch=String.fromCharCode(951);break;case"theta":ch=String.fromCharCode(952);break;case"iota":ch=String.fromCharCode(953);break;case"kappa":ch=String.fromCharCode(954);break;case"lambda":ch=String.fromCharCode(955);break;case"mu":ch=String.fromCharCode(956);break;case"nu":ch=String.fromCharCode(957);break;case"xi":ch=String.fromCharCode(958);break;case"omicron":ch=String.fromCharCode(959);break;case"pi":ch=String.fromCharCode(960);break;case"rho":ch=String.fromCharCode(961);break;case"sigmaf":ch=String.fromCharCode(962);break;case"sigma":ch=String.fromCharCode(963);break;case"tau":ch=String.fromCharCode(964);break;case"upsilon":ch=String.fromCharCode(965);break;case"phi":ch=String.fromCharCode(966);break;case"chi":ch=String.fromCharCode(967);break;case"psi":ch=String.fromCharCode(968);break;case"omega":ch=String.fromCharCode(969);break;case"thetasym":ch=String.fromCharCode(977);break;case"upsih":ch=String.fromCharCode(978);break;case"piv":ch=String.fromCharCode(982);break;case"ensp":ch=String.fromCharCode(8194);break;case"emsp":ch=String.fromCharCode(8195);break;case"thinsp":ch=String.fromCharCode(8201);break;case"zwnj":ch=String.fromCharCode(8204);break;case"zwj":ch=String.fromCharCode(8205);break;case"lrm":ch=String.fromCharCode(8206);break;case"rlm":ch=String.fromCharCode(8207);break;case"ndash":ch=String.fromCharCode(8211);break;case"mdash":ch=String.fromCharCode(8212);break;case"lsquo":ch=String.fromCharCode(8216);break;case"rsquo":ch=String.fromCharCode(8217);break;case"sbquo":ch=String.fromCharCode(8218);break;case"ldquo":ch=String.fromCharCode(8220);break;case"rdquo":ch=String.fromCharCode(8221);break;case"bdquo":ch=String.fromCharCode(8222);break;case"dagger":ch=String.fromCharCode(8224);break;case"Dagger":ch=String.fromCharCode(8225);break;case"bull":ch=String.fromCharCode(8226);break;case"hellip":ch=String.fromCharCode(8230);break;case"permil":ch=String.fromCharCode(8240);break;case"prime":ch=String.fromCharCode(8242);break;case"Prime":ch=String.fromCharCode(8243);break;case"lsaquo":ch=String.fromCharCode(8249);break;case"rsaquo":ch=String.fromCharCode(8250);break;case"oline":ch=String.fromCharCode(8254);break;case"frasl":ch=String.fromCharCode(8260);break;case"euro":ch=String.fromCharCode(8364);break;case"image":ch=String.fromCharCode(8465);break;case"weierp":ch=String.fromCharCode(8472);break;case"real":ch=String.fromCharCode(8476);break;case"trade":ch=String.fromCharCode(8482);break;case"alefsym":ch=String.fromCharCode(8501);break;case"larr":ch=String.fromCharCode(8592);break;case"uarr":ch=String.fromCharCode(8593);break;case"rarr":ch=String.fromCharCode(8594);break;case"darr":ch=String.fromCharCode(8595);break;case"harr":ch=String.fromCharCode(8596);break;case"crarr":ch=String.fromCharCode(8629);break;case"lArr":ch=String.fromCharCode(8656);break;case"uArr":ch=String.fromCharCode(8657);break;case"rArr":ch=String.fromCharCode(8658);break;case"dArr":ch=String.fromCharCode(8659);break;case"hArr":ch=String.fromCharCode(8660);break;case"forall":ch=String.fromCharCode(8704);break;case"part":ch=String.fromCharCode(8706);break;case"exist":ch=String.fromCharCode(8707);break;case"empty":ch=String.fromCharCode(8709);break;case"nabla":ch=String.fromCharCode(8711);break;case"isin":ch=String.fromCharCode(8712);break;case"notin":ch=String.fromCharCode(8713);break;case"ni":ch=String.fromCharCode(8715);break;case"prod":ch=String.fromCharCode(8719);break;case"sum":ch=String.fromCharCode(8721);break;case"minus":ch=String.fromCharCode(8722);break;case"lowast":ch=String.fromCharCode(8727);break;case"radic":ch=String.fromCharCode(8730);break;case"prop":ch=String.fromCharCode(8733);break;case"infin":ch=String.fromCharCode(8734);break;case"ang":ch=String.fromCharCode(8736);break;case"and":ch=String.fromCharCode(8743);break;case"or":ch=String.fromCharCode(8744);break;case"cap":ch=String.fromCharCode(8745);break;case"cup":ch=String.fromCharCode(8746);break;case"int":ch=String.fromCharCode(8747);break;case"there4":ch=String.fromCharCode(8756);break;case"sim":ch=String.fromCharCode(8764);break;case"cong":ch=String.fromCharCode(8773);break;case"asymp":ch=String.fromCharCode(8776);break;case"ne":ch=String.fromCharCode(8800);break;case"equiv":ch=String.fromCharCode(8801);break;case"le":ch=String.fromCharCode(8804);break;case"ge":ch=String.fromCharCode(8805);break;case"sub":ch=String.fromCharCode(8834);break;case"sup":ch=String.fromCharCode(8835);break;case"nsub":ch=String.fromCharCode(8836);break;case"sube":ch=String.fromCharCode(8838);break;case"supe":ch=String.fromCharCode(8839);break;case"oplus":ch=String.fromCharCode(8853);break;case"otimes":ch=String.fromCharCode(8855);break;case"perp":ch=String.fromCharCode(8869);break;case"sdot":ch=String.fromCharCode(8901);break;case"lceil":ch=String.fromCharCode(8968);break;case"rceil":ch=String.fromCharCode(8969);break;case"lfloor":ch=String.fromCharCode(8970);break;case"rfloor":ch=String.fromCharCode(8971);break;case"lang":ch=String.fromCharCode(9001);break;case"rang":ch=String.fromCharCode(9002);break;case"loz":ch=String.fromCharCode(9674);break;case"spades":ch=String.fromCharCode(9824);break;case"clubs":ch=String.fromCharCode(9827);break;case"hearts":ch=String.fromCharCode(9829);break;case"diams":ch=String.fromCharCode(9830);break;default:ch=""}i=semicolonIndex}}out+=ch}return out}function tryFocus(a){try{a.focus()}catch(b){}}function removeZerosFromNum(c){var d=c.indexOf("."),b=0,a=c.length-1;if(d==-1)d=a;while(c.substr(b,1)=="0"&&b<d-1)b++;while(c.substr(a,1)=="0"&&a>d+1)a--;return c.substr(b,a-b+1)}function getDecShift(b){var a=b.indexOf(".");return a==-1?0:b.length-a-1}function preciseMultiply(h,i){if(isNaN(parseFloat(h))||isNaN(parseFloat(i)))return NaN;var f=removeZerosFromNum(h.toString()),g=removeZerosFromNum(i.toString()),d,e,b,c;b=getDecShift(f);b+=getDecShift(g);d=f.replace(".","");e=g.replace(".","");var a=(parseInt(d,10)*parseInt(e,10)).toString();if(b==0)c=a;else if(a.length-b>0)c=a.substr(0,a.length-b)+"."+a.substr(a.length-b);else{c=".";for(var j=0;j<b-a.length;j++)c+="0";c+=a}return c}function displayShort(a,b){if(a.length<=b)return a;var c='<span title="'+a+'">'+a.substring(0,b)+"...</span>";return c}if(!String.prototype.localeCompare)String.prototype.localeCompare=function(b){var a=this;return a==b?0:a<b?-1:1};function logJsError_getstack(c){var l=" commandTwo",k=" commandOne",j=" command",a="",i=400,m=0;while(c!=null&&m++<5){try{var h=/ [^ (]+/,b=h.exec(c.toString())[0],d;if(b==" anonymous"||b==j||b==k||b==l){var f=c.toString();d=f.substring(f.indexOf("{"),f.length);var g=" Anonymous function: ";if(b==j||b==k||b==l)g=" Command: ";if(d.length<i)a+=g+d;else a+=g+d.substring(0,i)+"..."}else{h=/ [^)]+/;d=h.exec(c.toString())[0];a+=" function:"+d+")"}}catch(p){a+=" unknown"}try{if(arguments&&arguments.length){a+="\r\n\t Arguments: [";for(var e=0;e<arguments.length;e++){if(e>0)a+=",";a+=arguments[e]}a+="]"}a+="\r\n"}catch(o){}try{c=c.caller}catch(n){}}return a}if(!CNQR)CNQR={};(function(){CNQR.getStackTrace=function(){var a="{anonymous}",b;try{fail.inpurpose+=0}catch(c){b=c.stack?"Firefox":window.opera?"Opera":"Other"}switch(b){case"Firefox":return function(){try{fail.inpurpose+=0}catch(a){return a.stack.replace(/^.*?\n/,"").replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")}};case"Opera":return function(){try{fail.inpurpose+=0}catch(h){var b=h.message.split("\n"),g=a,f=/Line\s+(\d+).*?in\s+(http\S+)(?:.*?in\s+function\s+(\S+))?/i,c,d,e;for(c=4,d=0,e=b.length;c<e;c+=2)if(f.test(b[c]))b[d++]=(RegExp.$3?RegExp.$3+"()@"+RegExp.$2+RegExp.$1:g+RegExp.$2+":"+RegExp.$1)+" -- "+b[c+1].replace(/^\s+/,"");b.splice(d,b.length-d);return b}};default:return function(){var d="function",c=arguments.callee.caller,j=d,h=a,i=/function\s*([\w\-$]+)?\s*\(/i,f=[],k=0,g,b,e;while(c){if(c._name)g=c._name;else g=i.test(c.toString())?RegExp.$1||h:h;b=f.slice.call(c.arguments);e=b.length;while(e--)switch(typeof b[e]){case"string":b[e]='"'+b[e].replace(/"/g,'\\"')+'"';break;case d:b[e]=j}f[k++]=g+"("+b.join()+")";c=c.caller}return f}}}()})();Function.prototype.trace=function(){var b=0,c=[],a=this;while(a&&b<15){c.push(a.signature());a=a.caller;b++}return c};Function.prototype.signature=function(){var a=this,c={name:a.getName(),params:[],toString:function(){var a=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+a+")"}};if(a.arguments)for(var b=0;b<a.arguments.length;b++)c.params.push(a.arguments[b]);return c};Function.prototype.getName=function(){var b="anonymous:",a=this;if(a.name)return a.name;if(a._name)return a._name;var c=a.toString().split("\n")[0],d=/^function ([^\s(]+).+/;return d.test(c)?c.split("\n")[0].replace(d,"$1")||b+a.toString():b+a.toString()};function logJsErrorAuto(b,c,d,a){logJsError(b,c,d,a)}function logJsError(f,p,o,a,k,i,e){var d="stack error: ";if(window.CNQR&&CNQR.disableMetrics)return;if(f=="'null' is null or not an object")return false;try{if(!a){var j=logJsError.caller.trace();a=limitStackTraceSize(j)}}catch(s){a=d;if(s.name)a+=s.name+": ";if(s.message)a+=s.message+" ";if(s.description)a+="("+s.description+")";a+="\r\n\r\ntrying alternate method to get stack trace...\r\n\r\n";try{var j=CNQR.getStackTrace();a=limitStackTraceSize(j)}catch(q){a+=d;if(q.name)a+=q.name+": ";if(q.message)a+=q.message+" ";if(q.description)a+="("+q.description+")"}}try{var m="true";if(CNQR&&CNQR.debug){if(CNQR.debug.lastAjaxRequest)a+="\r\n\r\nlastAjaxRequest: "+CNQR.debug.lastAjaxRequest;if(CNQR.debug.lastAjaxRequestTime){var n=(new Date).getTime()-CNQR.debug.lastAjaxRequestTime.getTime();a+="\r\nlastAjaxRequestTime: "+CNQR.debug.lastAjaxRequestTime+" ("+n+"ms ago)"}if(CNQR.debug.lastAjaxResponse)a+="\r\nlastAjaxResponse: "+CNQR.debug.lastAjaxResponse;if(CNQR.debug.getDebugMessages){var h=CNQR.debug.getDebugMessages();if(h.length>0){a+="\r\n\r\nlast debug messages:\r\n";for(var g=0;g<h.length;g++)a+=g+": "+h[g]+"\r\n"}}if(CNQR.debug.errorDlgShown){var m="false";CNQR.debug.errorDlgShown=false}}var c="";if(e&&f&&f.indexOf("Badly formed JSON string")==0){try{c+=e.getAllResponseHeaders()}catch(s){}c+="\r\nStatus Code: ";c+=e.status;c+="\r\nStatus Text: ";c+=e.statusText;c+="\r\nOriginal Response Text: ";c+=e.responseText}var b="errDesc="+encodeURIComponent(f);b+=encodeURIComponent(c);b+="&ln="+o;b+="&qs="+encodeURIComponent(location.search);b+="&u="+encodeURIComponent(location.pathname);b+="&r="+encodeURIComponent(document.referrer);b+="&s="+encodeURIComponent(a);b+="&h="+encodeURIComponent(m);if(k)b+="&cat="+encodeURIComponent(k);if(i)b+="&subCat="+encodeURIComponent(i);if(!CQJSerrors[b])CQJSerrors[b]=1;if(CQJSerrors[b]<3){CQJSerrors[b]++;if(window.Ajax&&Ajax.Request)new Ajax.Request("/Net2/JSLogging/jsError.ashx",{method:"post",parameters:b});else{var l=new Image;l.src="/Net2/JSLogging/jsError.ashx?image=1&"+b}}}catch(r){}return false}(function(){try{if(CNQR.disableJSLogger)return;window.onerror=logJsErrorAuto}catch(a){}})();CNQR.isInFrame=function(){if(window.frames&&top.frames.length>0)if(top!=self)return true;return false}();function otLogFrame(a){if(CNQR.isInFrame){a&&top.location.replace(location);return true}return false}function otLogMetric(d,c,b,a){if(window.CNQR&&CNQR.disableMetrics)return;var e={cat:d,subcat:c||"",desc:b||"",u:location.pathname,r:document.referrer,valuesProtected:a?"Y":"N"};window.Ajax&&Ajax.Request&&new Ajax.Request("/Net2/JSLogging/metric.ashx",{method:"POST",parameters:e})}function limitStackTraceSize(a){if(a){for(var d=[],c=0,e=a.length>100?100:a.length,b=0;b<e;b++)if(a[b]){d[c]=a[b].toString().substring(0,1024);c++}return d.join("\r\n")}return""}function addCSSFile(a){var d=a;if(window.otCacheKilla){a+=a.indexOf("?")>=0?"&":"?";a+="cachekilla="+window.otCacheKilla}if(!$(a)){for(var c=0;c<document.styleSheets.length;c++){if(document.styleSheets[c].href==null)continue;if(document.styleSheets[c].href.indexOf(d)>=0)return}var b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("href",a);b.id=a;document.getElementsByTagName("head")[0].appendChild(b)}}var exp=new Date;exp.setTime(exp.getTime()+3.1536e10);function GetCookie(i,c){var d=i+"=",g=d.length,h=document.cookie.length,b=null;function f(b){var a=document.cookie.indexOf(";",b);if(a==-1)a=document.cookie.length;return unescape(document.cookie.substring(b,a))}var a=0;while(a<h){var e=a+g;if(document.cookie.substring(a,e)==d){b=f(e);break}else a=document.cookie.indexOf(" ",a)+1;if(a==0)break}if(b&&c)b=getCookieDict(b)[c];return b}function getCookieDict(c){var e={};if(c)for(var b=c.split("&"),a=0;a<b.length;a++){var d=b[a].split("=");e[d[0]]=d[1]}return e}function SetAndRefresh(b,a){SetCookie(b,a,exp,"/");document.location.reload()}function SetCookie(i,e){var a=null;if(window.disableCookies)return;var c=arguments,b=arguments.length,d=b>2?c[2]:a,g=b>3?c[3]:a,f=b>4?c[4]:a,h=b>5?c[5]:false;if(e==""||e==a)d=new Date("1999-08-15");document.cookie=i+"="+e+(d==a?"":"; expires="+d.toGMTString())+(g==a?";path=/":"; path="+g)+(f==a?"":"; domain="+f)+(h==true?"; secure":"")}function SetSubCookie(f,g,d,e){if(window.disableCookies)return;var a=GetCookie(f);if(d=="")d=null;var b=getCookieDict(a);b[g]=d;a="";for(var c in b)if(b[c]!=null){a+=a.length>0?"&":"";a+=c+"="+b[c]}document.cookie=f+"="+a+(e==null?"":"; expires="+e.toGMTString())}function DeleteCookie(b){var a=new Date;a.setTime(a.getTime()-1);var c=GetCookie(b);document.cookie=b+"="+c+"; expires="+a.toGMTString()}(function(){var a=document.charset||document.characterSet;if(a=="UTF-8"){window.oldEscape=window.oldEscape||window.escape;window.escape=window.encodeURIComponent}})();(function(b){var a=function(){var d="password",e="lock",c=1e3,b=true,a=false,j=0,h=0,g=0,i=a,k=new Date,l=new Date,f=0;_userSessionTimeout=60;return{sessionIsLocked:a,reloadPageOnPasswordVerification:a,init:function(){if(CNQR.isInFrame)return;this.resetPageTimeout();if(window.sessionLockTime>0){this.resetIdleTimeout();["mousemove","keypress","click"].each(function(a){addEvent(document.body,a,function(){this.resetIdleTimeout()}.bind(this))}.bind(this))}},clearCounterTimer:function(){clearInterval(f);f=0},resetTimeouts:function(c){var a=this;a.resetIdleTimeout();a.clearCounterTimer();c&&a.checkSession(function(c){var a=this;if(!c.isConnected)a.redirectToLogout("session not connected");else if(c.isLocked){a.sessionIsLocked=b;a.resetPageTimeout();a.showLockedDialog()}else a.resetPageTimeout()}.bind(a))},redirectToLogout:function(){var a=CNQR.IsGovtSite?"/errors/loggedout_gvt.asp":"/errors/loggedout.asp";window.location.replace(a)},resetPageTimeout:function(){k=new Date;j&&window.clearTimeout(j);h&&window.clearTimeout(h);if(window.sessionLogoutTime){j=window.setTimeout(function(){this.showUserSessionTimeoutDiv(window.sessionLogoutTime/2,"logout")}.bind(this),window.sessionLogoutTime/2*c);h=window.setTimeout(this.redirectToLogout.bind(this),window.sessionLogoutTime*c)}},resetIdleTimeout:function(){if(g){window.clearTimeout(g);g=0}if(window.sessionLockTime){l=new Date;g=window.setTimeout(function(){this.showUserSessionTimeoutDiv(_userSessionTimeout,e)}.bind(this),window.sessionLockTime*c)}},checkSession:function(c){var d={isConnected:a,isLocked:b},e="/javascript/service/checkSession.asp";new Ajax.Request(e,{method:"get",onSuccess:function(b){var a=b.responseJSON||d;c&&c(a)},onFailure:function(){c(resultJson)}})},lockSession:function(){var c="/javascript/service/LockSession.asp";new Ajax.Request(c,{method:"get",onSuccess:function(e){var c=this,d=e.responseText||"no response text";if(d=="set"||d=="alreadyset"){c.sessionIsLocked=b;c.showLockedDialog()}else if(d=="notset"){c.sessionIsLocked=a;c.resetTimeouts()}}.bind(this)})},checkPassword:function(){var c="/javascript/service/checkPassword.asp";new Ajax.Request(c,{method:"post",parameters:{txtPwd:$F("txtpwd")},onSuccess:function(e){var c=this,d=e.responseJSON;switch(d.status){case"success":c.sessionIsLocked=a;i=a;otHidePopupDialog();CNQR.flashTitleBar.stop();c.reloadPageOnPasswordVerification&&window.location.reload();c.resetTimeouts(b);break;case"exit":c.redirectToLogout("too many attempts");break;default:i=b;c.showLockedDialog()}}.bind(this),onFailure:function(){this.redirectToLogout("check password failed")}.bind(this)})},getSecondsUntilLock:function(){return window.sessionLockTime?window.sessionLockTime-Math.round((new Date-l)/c):0},getSecondsUntilLogout:function(){return window.sessionLogoutTime-Math.round((new Date-k)/c)},showLockedDialog:function(){this.showUserSessionTimeoutDiv(this.getSecondsUntilLogout(),d)},showUserSessionTimeoutDiv:function(g,h){var a="smalljs",j=this;g=g||60;var l=h==e?"LockCountDown":"LogoutCountDown";if(f&&h!=d)return;var p=function(){var c="</div>",b="</p>",d='<div aria-live="assertive" id="sessionTimeoutMessage">';d+="<p>"+OTGetUserMessage(a,"ScreenClearedDueToInactivity")+"</p><p>"+OTGetUserMessage(a,"SecurityOfYourAccount")+b;d+='<div aria-atomic="true" aria-live="assertive">'+OTFormatUserMessage(a,l,'<span id="logoutCounter">'+CNQR.formatSeconds(g)+"</span>")+c;if(this.sessionIsLocked){d+='<div id="changePasswordSection">'+OTGetUserMessage(a,"AccountLockMsg");if(i)d+='<p id="failedPassword" aria-live="assertive">'+OTGetUserMessage(a,"IncorrectPassword")+b;d+='<p><label for="txtpwd">'+OTGetUserMessage("login","Password")+'</label><br/><input id="txtpwd" name="txtpwd" type="password" size="24" maxlength="60"/> <input type="button" id="test_pwd_submit" name="test_pwd_submit" onclick="CNQR.pageIdleControl.checkPassword()" value="'+OTGetUserMessage("common","submit")+'"/>'+b+c}d+=c;return d}.bind(j)(),k=OTGetUserMessage("SmallJs","ScreenCleared"),n="#cccccc",o=[{value:"OK",text:h==d?OTGetUserMessage(a,"NeedMoreTimeForPassword"):OTGetUserMessage(a,"NeedMoreTime")}],m=function(c){var a=this,e=h;if(c.value=="OK"){a.resetTimeouts(b);otHidePopupDialog();if(e==d)window.setTimeout(a.showLockedDialog.bind(a),100);else CNQR.flashTitleBar.stop()}else a.clearCounterTimer()}.bind(j);j.showLockDivMain(k,p,"",m,n,o);CNQR.flashTitleBar.start(OTGetUserMessage("common","warning"));j.clearCounterTimer();f=setInterval(function(){var a=this,c=h;g=g-1;if(g<=-1)if(c==e){a.clearCounterTimer();a.lockSession()}else{a.clearCounterTimer();a.redirectToLogout("no seconds")}else{var b=document.getElementById("logoutCounter");if(b)b.innerHTML=CNQR.formatSeconds(g)}}.bind(j),c)},showLockDivMain:function(c,g,h,f,e,d){CNQR.MessageBox.confirm(g,{title:c,icon:CNQR.MessageBox.NoIcon,buttons:d||CNQR.MessageBox.OK,showClose:a,closeOnEsc:a,maskColor:e,onButtonClick:f,width:500,maxHeight:500,destroyOnClose:b,zIndex:99999})}}}();addEvent(window,"load",function(){a.init()});b.CNQR.pageIdleControl=a})(this);function TM_ResetTimeouts(a){CNQR.pageIdleControl.resetTimeouts(a)}CNQR.resetpageTimeout=function(){CNQR.pageIdleControl.resetPageTimeout()};CNQR.post=function(e,c){var a=document.createElement("form");a.setAttribute("method","post");a.setAttribute("action",e);for(var d in c){if(!c.hasOwnProperty(d))continue;var b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("name",d);b.setAttribute("value",c[d]);a.appendChild(b)}document.body.appendChild(a);a.submit()};CNQR.flashTitleBar=function(){var b=document.title,a;return{start:function(c){var b=".";if(!a){b=c;a=setInterval(function(){document.title=document.title==b?" ":b},1e3)}},stop:function(){clearInterval(a);document.title=b;window.onmousemove=null;a=null}}}();function triggerEvent(a,b){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(b,true,true);return a.dispatchEvent(c)}if(a.fireEvent)return a.fireEvent("on"+b)}function isMobileOrTabletBrowser(){var a=false,b=navigator.userAgent.toLowerCase();if(b.match(/iPad|iPhone|iPod|Android|BlackBerry/i))a=true;return a}CNQR.menu.popupWindow=popupWindow;CNQR.menu.loadAgentTool=loadAgentTool;CNQR.FullWidth={_charsMap:{"＇":{value:"'",re:/\uff07/g},"（":{value:"(",re:/\uff08/g},"）":{value:")",re:/\uff09/g},"，":{value:",",re:/\uff0c/g},"－":{value:"-",re:/\uff0d/g},"．":{value:".",re:/\uff0e/g},"／":{value:"/",re:/\uff0f/g},"０":{value:"0",re:/\uff10/g},"１":{value:"1",re:/\uff11/g},"２":{value:"2",re:/\uff12/g},"３":{value:"3",re:/\uff13/g},"４":{value:"4",re:/\uff14/g},"５":{value:"5",re:/\uff15/g},"６":{value:"6",re:/\uff16/g},"７":{value:"7",re:/\uff17/g},"８":{value:"8",re:/\uff18/g},"９":{value:"9",re:/\uff19/g},"：":{value:":",re:/\uff1a/g},Ａ:{value:"A",re:/\uff21/g},Ｍ:{value:"M",re:/\uff2d/g},Ｐ:{value:"P",re:/\uff30/g},ａ:{value:"a",re:/\uff41/g},ｍ:{value:"m",re:/\uff4d/g},ｐ:{value:"p",re:/\uff50/g},"　":{value:" ",re:/\u3000/g}},getAllowedChars:function(){var a=this;if(!a._allowedChars){a._allowedChars="";for(var b in a._charsMap)a._allowedChars+=b}return a._allowedChars},transform:function(a){if(!a||!a.replace)return a;var b=a,c;for(var d in this._charsMap){c=this._charsMap[d];b=b.replace(c.re,c.value)}return b},elTransform:function(a){a=$(a);a.value=CNQR.FullWidth.transform(a.value)}};CNQR.getFocusableElements=function(c,b){var a=[];$(c).descendants().each(function(c){c=$(c);if(/^(a|input|select|textarea|button|object|area)$/i.test(c.tagName.toLowerCase())||c.readAttribute("tabindex")==0)if(b){var d=function(a){var b=function(){return!(!a.offsetParent||a.offsetParent&&a.offsetParent.tagName.toLowerCase()==="body")}();return b&&a.readAttribute("display")!=="none"&&a.readAttribute("visibility")!=="hidden"}(c);d&&a.push(c)}else a.push(c)});return a};CNQR.hideFromScreenReaders=function(e,b){var a=CNQR.getFocusableElements(e),c=$$("[role=menubar]"),d=$$("[role=tab]");if(c.length)a=a.concat(c);if(d.length)a=a.concat(d);a.each(function(a){var c="true",d="aria-hidden",f=$(a).readAttribute(d),h=function(){return $(b)&&$(a).descendantOf(b)?true:false}();if(!h)if(f!==c){$(a).writeAttribute("data-hidden",c);$(a).writeAttribute(d,c);var e=$(a).readAttribute("href"),g=e&&e.indexOf("#")===0?true:false;if(g){$(a).writeAttribute("data-temp-href",e);$(a).writeAttribute("href","")}}})};CNQR.showToScreenReaders=function(e,b){var a=CNQR.getFocusableElements(e),c=$$("[role=menubar]"),d=$$("[role=tab]");if(c.length)a=a.concat(c);if(d.length)a=a.concat(d);a.each(function(a){var d="data-temp-href",c="data-hidden",f=$(a).readAttribute(c),g=function(){return $(b)&&$(a).descendantOf(b)?true:false}();if(!g){if(f==="true"){$(a).writeAttribute(c,"false");$(a).writeAttribute("aria-hidden","false")}var e=$(a).readAttribute(d);if(e){$(a).writeAttribute("href",e);$(a).writeAttribute(d,"")}}})};CNQR.forceFocusHighlight=function(a,b){if(a)if(b=="focus")a.style.outline=CNQR.isGateway?"thin solid":"thin dotted";else a.style.outline="none"};if(!Array.prototype.filter)Array.prototype.filter=function(c){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),g=b.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=[],f=arguments.length>=2?arguments[1]:void 0,a=0;a<g;a++)if(a in b){var e=b[a];c.call(f,e,a,b)&&d.push(e)}return d};CNQR.formatDuration=function(a){if(isNaN(a))return a;a=parseInt(a);var b=JSPadOut(Math.floor(a/60)),c=JSPadOut(a%60);return b+":"+c};CNQR.formatSeconds=function(d,c){var b="smalljs";c=typeof c==="boolean"?c:false;var g=[],f=OTGetUserMessage,a={hours:parseInt(d/3600,10),minutes:parseInt(d%3600/60,10),seconds:parseInt(d%60,10)},e={hours:function(){return a.hours+" "+f(b,a.hours===1?"hour":"hours")}(),minutes:function(){return a.minutes+" "+f(b,a.minutes===1?"minute":"minutes")}(),seconds:function(){return a.seconds+" "+f(b,a.seconds===1?"second":"seconds")}()};for(var h in e)a[h]>0&&g.push(e[h]);return c?e:g.join(" ")};CNQR.makeOTTip=function(c,b){var a='<a class="cnqr-tooltip cnqr-cursor-help" data-options="{}" data-toggle="tooltip" tabindex="0" href="javascript:void(0)" role="button" data-content="'+c+'">';a+='<span class="screen-reader-only">'+OTGetUserMessage("SmallJS","OuttaskQuickHelp");if(b!="")a+=": "+otJSEncode(b);a+="</span>";if(CNQR.IsGateway)a+='<span class="icon-messaging-help" aria-hidden="true"></span>';else a+='<img alt="" src="/images/ot_tip.gif" style="vertical-align:middle" data-options="{}" data-content="'+c+'" data-toggle="tooltip">';a+="</a>";return a};CNQR.simulateMouseDown=function(){var c=false,a={bubbles:true,cancelable:true,view:window,detail:0,screenX:0,screenY:0,clientX:100,clientY:100,ctrlKey:c,altKey:c,shiftKey:c,metaKey:c,button:0,relatedTarget:undefined},b;if(typeof document.createEvent==="function"){b=document.createEvent("MouseEvents");b.initMouseEvent("mousedown",a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,document.body.parentNode)}else if(document.createEventObject){b=document.createEventObject();for(var d in a)b[d]=a[d]}if(b)if(document.body.dispatchEvent)document.body.dispatchEvent(b);else document.body.fireEvent&&document.body.fireEvent("onmousedown",b)};
